<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript | 陈扬伟的博客</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/blog/favicon.ico">
    <script language="javascript" type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script language="javascript" type="text/javascript" src="/blog/js/MouseClickEffect.js"></script>
    <meta name="description" content="前端、算法笔记与其他干货分享（不断完善中...）">
    
    <link rel="preload" href="/blog/assets/css/0.styles.5ac611bc.css" as="style"><link rel="preload" href="/blog/assets/js/app.18c65dc5.js" as="script"><link rel="preload" href="/blog/assets/js/2.e098fada.js" as="script"><link rel="preload" href="/blog/assets/js/15.09128821.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.e79643c5.js"><link rel="prefetch" href="/blog/assets/js/11.4b7afe26.js"><link rel="prefetch" href="/blog/assets/js/12.0c29f934.js"><link rel="prefetch" href="/blog/assets/js/13.15a16453.js"><link rel="prefetch" href="/blog/assets/js/14.96df4f58.js"><link rel="prefetch" href="/blog/assets/js/16.09dd63cb.js"><link rel="prefetch" href="/blog/assets/js/17.d14ee658.js"><link rel="prefetch" href="/blog/assets/js/18.98f16408.js"><link rel="prefetch" href="/blog/assets/js/19.21cfc1c8.js"><link rel="prefetch" href="/blog/assets/js/20.7731c998.js"><link rel="prefetch" href="/blog/assets/js/21.a47d9edc.js"><link rel="prefetch" href="/blog/assets/js/22.e9e2dcf8.js"><link rel="prefetch" href="/blog/assets/js/23.2d4ca6f8.js"><link rel="prefetch" href="/blog/assets/js/24.2291cb77.js"><link rel="prefetch" href="/blog/assets/js/25.7ddd3eea.js"><link rel="prefetch" href="/blog/assets/js/26.a7775947.js"><link rel="prefetch" href="/blog/assets/js/27.9030aa1d.js"><link rel="prefetch" href="/blog/assets/js/28.fbda1538.js"><link rel="prefetch" href="/blog/assets/js/29.3927e10d.js"><link rel="prefetch" href="/blog/assets/js/3.75d96a17.js"><link rel="prefetch" href="/blog/assets/js/30.0eb31cb9.js"><link rel="prefetch" href="/blog/assets/js/31.48bbd242.js"><link rel="prefetch" href="/blog/assets/js/32.33beb443.js"><link rel="prefetch" href="/blog/assets/js/33.7e5ad22a.js"><link rel="prefetch" href="/blog/assets/js/34.74c7e612.js"><link rel="prefetch" href="/blog/assets/js/35.a91fe138.js"><link rel="prefetch" href="/blog/assets/js/4.170fa8c2.js"><link rel="prefetch" href="/blog/assets/js/5.02623ce8.js"><link rel="prefetch" href="/blog/assets/js/6.ed1d4fab.js"><link rel="prefetch" href="/blog/assets/js/7.50bce60e.js"><link rel="prefetch" href="/blog/assets/js/8.d803c2c9.js"><link rel="prefetch" href="/blog/assets/js/9.2497bbf4.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.5ac611bc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/other/logo.png" alt="陈扬伟的博客" class="logo"> <span class="site-name can-hide">陈扬伟的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/blog/blogs/nav/" class="nav-link">
  导航
</a></div><div class="nav-item"><a href="/blog/blogs/frontend/" class="nav-link router-link-active">
  前端
</a></div><div class="nav-item"><a href="/blog/blogs/algorithm/" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="/blog/blogs/other/" class="nav-link">
  干货
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="我的" class="dropdown-title"><span class="title">我的</span> <span class="arrow down"></span></button> <button type="button" aria-label="我的" class="mobile-dropdown-title"><span class="title">我的</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/cyw0012/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/weixin_66306407?type=blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/blog/blogs/nav/" class="nav-link">
  导航
</a></div><div class="nav-item"><a href="/blog/blogs/frontend/" class="nav-link router-link-active">
  前端
</a></div><div class="nav-item"><a href="/blog/blogs/algorithm/" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="/blog/blogs/other/" class="nav-link">
  干货
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="我的" class="dropdown-title"><span class="title">我的</span> <span class="arrow down"></span></button> <button type="button" aria-label="我的" class="mobile-dropdown-title"><span class="title">我的</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/cyw0012/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/weixin_66306407?type=blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/blog/blogs/frontend/" aria-current="page" class="sidebar-link">前端介绍</a></li><li><a href="/blog/blogs/frontend/html5.html" class="sidebar-link">HTML5</a></li><li><a href="/blog/blogs/frontend/css3.html" class="sidebar-link">CSS3</a></li><li><a href="/blog/blogs/frontend/moveweb.html" class="sidebar-link">移动 web</a></li><li><a href="/blog/blogs/frontend/javascript.html" aria-current="page" class="active sidebar-link">JavaScript</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/blogs/frontend/javascript.html#一、引入" class="sidebar-link">一、引入</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/blogs/frontend/javascript.html#_1-编程语言" class="sidebar-link">(1) 编程语言</a></li><li class="sidebar-sub-header"><a href="/blog/blogs/frontend/javascript.html#_2-计算机基础" class="sidebar-link">(2) 计算机基础</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/blogs/frontend/javascript.html#二、初始-javascript" class="sidebar-link">二、初始 JavaScript</a></li><li class="sidebar-sub-header"><a href="/blog/blogs/frontend/javascript.html#三、ecmascript" class="sidebar-link">三、ECMAScript</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/blogs/frontend/javascript.html#_1-基本知识" class="sidebar-link">(1) 基本知识</a></li><li class="sidebar-sub-header"><a href="/blog/blogs/frontend/javascript.html#_2-数据类型及转换" class="sidebar-link">(2) 数据类型及转换</a></li><li class="sidebar-sub-header"><a href="/blog/blogs/frontend/javascript.html#_3-运算符" class="sidebar-link">(3) 运算符</a></li><li class="sidebar-sub-header"><a href="/blog/blogs/frontend/javascript.html#_4-函数" class="sidebar-link">(4) 函数</a></li><li class="sidebar-sub-header"><a href="/blog/blogs/frontend/javascript.html#_5-自定义对象" class="sidebar-link">(5) 自定义对象</a></li><li class="sidebar-sub-header"><a href="/blog/blogs/frontend/javascript.html#_6-内置对象" class="sidebar-link">(6) 内置对象</a></li><li class="sidebar-sub-header"><a href="/blog/blogs/frontend/javascript.html#_7-存储" class="sidebar-link">(7) 存储</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/blogs/frontend/javascript.html#四、画布" class="sidebar-link">四、画布</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/blogs/frontend/javascript.html#_1-fillstyle" class="sidebar-link">1. fillStyle</a></li><li class="sidebar-sub-header"><a href="/blog/blogs/frontend/javascript.html#_2-strokestyle" class="sidebar-link">2. strokeStyle</a></li><li class="sidebar-sub-header"><a href="/blog/blogs/frontend/javascript.html#_3-阴影" class="sidebar-link">3. 阴影</a></li><li class="sidebar-sub-header"><a href="/blog/blogs/frontend/javascript.html#_4-线条样式" class="sidebar-link">4. 线条样式</a></li><li class="sidebar-sub-header"><a href="/blog/blogs/frontend/javascript.html#_5-画圆" class="sidebar-link">5. 画圆</a></li><li class="sidebar-sub-header"><a href="/blog/blogs/frontend/javascript.html#_6-缩小放大、旋转" class="sidebar-link">6. 缩小放大、旋转</a></li><li class="sidebar-sub-header"><a href="/blog/blogs/frontend/javascript.html#_7-剪切" class="sidebar-link">7. 剪切</a></li><li class="sidebar-sub-header"><a href="/blog/blogs/frontend/javascript.html#_8-文字" class="sidebar-link">8. 文字</a></li><li class="sidebar-sub-header"><a href="/blog/blogs/frontend/javascript.html#_9-图像绘制" class="sidebar-link">9. 图像绘制</a></li><li class="sidebar-sub-header"><a href="/blog/blogs/frontend/javascript.html#_10-转换" class="sidebar-link">10. 转换</a></li><li class="sidebar-sub-header"><a href="/blog/blogs/frontend/javascript.html#_11-像素操作" class="sidebar-link">11. 像素操作</a></li><li class="sidebar-sub-header"><a href="/blog/blogs/frontend/javascript.html#_12-合成" class="sidebar-link">12. 合成</a></li></ul></li></ul></li><li><a href="/blog/blogs/frontend/webapis.html" class="sidebar-link">WebAPIs</a></li><li><a href="/blog/blogs/frontend/es6.html" class="sidebar-link">ES6</a></li><li><a href="/blog/blogs/frontend/jquery.html" class="sidebar-link">jQuery</a></li><li><a href="/blog/blogs/frontend/ajax.html" class="sidebar-link">Ajax</a></li><li><a href="/blog/blogs/frontend/nodejs.html" class="sidebar-link">NodeJs</a></li><li><a href="/blog/blogs/frontend/vue2.html" class="sidebar-link">Vue2</a></li><li><a href="/blog/blogs/frontend/vue3.html" class="sidebar-link">Vue3</a></li><li><a href="/blog/blogs/frontend/typescript.html" class="sidebar-link">TypeScript</a></li><li><a href="/blog/blogs/frontend/react.html" class="sidebar-link">React</a></li><li><a href="/blog/blogs/frontend/wechat.html" class="sidebar-link">微信小程序</a></li><li><a href="/blog/blogs/frontend/demo.html" class="sidebar-link">案例分享</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="javascript"><a href="#javascript" class="header-anchor">#</a> JavaScript</h1> <h2 id="一、引入"><a href="#一、引入" class="header-anchor">#</a> 一、引入</h2> <h3 id="_1-编程语言"><a href="#_1-编程语言" class="header-anchor">#</a> (1) 编程语言</h3> <ol><li><p>编程：就是让计算机解决问题而编写代码，最终得到结果的过程。</p></li> <li><p>计算机程序：计算机执行一系列的指令集合。</p></li> <li><p>计算机语言：人与计算机之间通讯的语言。（机器语言、汇编语言、高级语言）</p> <ul><li><p>汇编语言：和机器语言本质相同，都是直接对硬件操作，只不过采用了英文缩写的标识符，容易识别与记忆。</p></li> <li><p>高级语言：并不是特指某一具体的语言，而是包括了很多编程语言。（C、C++、Java、PHP...）</p></li></ul></li> <li><p><strong>编译</strong>：将编程语言编写的程序翻译成用机器语言表示的目标程序。</p></li> <li><p><strong>解释</strong>：一边翻译一边执行，不产生目标程序。</p></li></ol> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>编程语言和标记语言的不同：编程语言具有很强的逻辑性和行为能力，主动的；标记语言不用向计算机发出指令，用来被读取，被动。</p></div> <h3 id="_2-计算机基础"><a href="#_2-计算机基础" class="header-anchor">#</a> (2) 计算机基础</h3> <ol><li><p>计算机组成：</p> <ul><li><p>硬件：输入设备、输出设备、CPU（运算器、控制器）、硬盘（永久存储数据）、内存（暂时存储数据）。</p></li> <li><p>软件：系统软件（Windows、Linux）、应用软件。</p></li></ul></li> <li><p>数据存储：计算机内部使用二进制来存储数据。</p></li> <li><p>数据存储单位：bit（最小存储单位）、Byte（基本存储单位）、KB、MB、GB。</p> <div class="language- extra-class"><pre class="language-text"><code>1GB = 1024MB  1MB = 1024KB  1KB = 1024B  1B = 8b
</code></pre></div></li> <li><p><u>内存条是硬盘和 CPU 之间的桥梁。</u>（硬盘数据加载到内存，CPU 执行内存中的代码(内存是电，硬盘是机械)）。</p></li></ol> <br> <h2 id="二、初始-javascript"><a href="#二、初始-javascript" class="header-anchor">#</a> 二、初始 JavaScript</h2> <ol><li><p>1995 年，网景公司，由布兰登.艾奇发明。</p></li> <li><p><strong>运行在客户端的脚本语言</strong>；不需要编译，由 js 解释器（js 引擎）逐行解释并执行；也可以基于 Node.js 技术进行服务器端编程。</p></li> <li><p>JavaScript 作用：表单动态校验、网页特效、服务端开发、桌面程序...</p></li> <li><p>HTML/CSS 是标记语言（描述类语言）；Js 是脚本语言（编程类语言）。</p></li> <li><p>浏览器执行 js：</p> <ul><li><p>渲染引擎(内核)：解析 html/css，如谷歌浏览器的 blink，老版本的 webkit。</p></li> <li><p>js 引擎(js 解释器)：读取网页中 js 代码，如谷歌的 v8。</p></li></ul></li> <li><p>JS 组成：</p> <ul><li><p>ECMAScript(js 语法)</p></li> <li><p>DOM(页面文档对象模型)</p></li> <li><p>BOM(浏览器对象模型)</p></li></ul> <p>ECMAScript 是 JS 基础，DOM、BOM 是 Web APIs。</p></li></ol> <br> <h2 id="三、ecmascript"><a href="#三、ecmascript" class="header-anchor">#</a> 三、ECMAScript</h2> <h3 id="_1-基本知识"><a href="#_1-基本知识" class="header-anchor">#</a> (1) 基本知识</h3> <ol><li><p>JS 引入方式</p> <ul><li>行内式</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  这里写js代码
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>内嵌式</li></ul> <p>将上面的放在<code>&lt;head&gt;&lt;/head&gt;</code>里</p> <ul><li>外部式</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>XXX.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li> <li><p>注释：单行注释（//）；多行注释（/* */）。</p></li> <li><p>输入输出：</p> <ul><li><p>alert('')：弹出警示框</p></li> <li><p>prompt()：弹出输入框（<strong>输入的默认当成字符串</strong>）</p></li> <li><p>console.log()：控制台打印简单信息</p></li> <li><p>console.warn()：控制台打印警告信息</p></li> <li><p>console.error()：控制台打印错误信息</p></li> <li><p>console.clear()：控制台清空信息</p></li></ul></li> <li><p>变量提升</p> <p>预解析-&gt;代码执行</p> <p><strong>js 引擎预解析：会把 var 和 function 提升到当前作用域的最前面（但不进行赋值操作）。</strong></p></li> <li><p>typeof：返回数据类型。</p> <p>instanceof：判断数据类型。</p></li></ol> <h3 id="_2-数据类型及转换"><a href="#_2-数据类型及转换" class="header-anchor">#</a> (2) 数据类型及转换</h3> <p>变量：向<u>内存</u>申请<u>空间</u>存储数据。</p> <p>标识符：不能是关键字、保留字（是指未来可能会变成关键字）。</p> <p>声明：多个变量用逗号隔开；允许$、_命名；尽量不要用 name 命名。</p> <p>声明（var）-&gt;赋值（不赋值为 undefined）。（不声明，直接赋值可以使用）</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p><strong>var 与 let 的区别是：var 的作用域为整个函数内部，存在变量提升；而 let 的作用域为代码块内，不存在变量提升。</strong></p></div> <ol><li><p>数据类型</p> <p>js 的变量数据类型只有在程序运行过程，由等号右边的值来确定的；<strong>js 是动态语言，变量的数据类型可以变化</strong>（运行效率低）。</p> <p>(1) 简单数据类型</p> <details class="custom-block details"><summary>详细信息</summary> <ul><li><p>Number</p> <p>默认值：0 。</p> <p>数字前面加 0 为八进制，数字前面加 0x 为十六进制。</p> <p>数字的最大值 Number.MAX_VALUE,最小值 Number.MIN_VALUE</p> <p>三个特殊值：_Infinity 无穷大，-Infinity 无穷小，<u>NaN 非数值</u>。</p> <p><strong>isNaN()</strong>：判断是不是数字，如果是返回 false，不是返回 true。</p> <p><strong>保留 n 为小数</strong>：toFixed(n)</p></li> <li><p>String</p> <p>默认值： '' 。</p> <p>用引号括起，引号嵌套外单内双、外双内单。</p> <p>转义字符：</p> <table><thead><tr><th>转义符</th> <th>说明</th></tr></thead> <tbody><tr><td><code>\n</code></td> <td>换行</td></tr> <tr><td><code>\\</code></td> <td>斜杠\</td></tr> <tr><td><code>\'</code></td> <td>单引号 '</td></tr> <tr><td><code>\&quot;</code></td> <td>双引号 &quot;</td></tr> <tr><td><code>\t</code></td> <td>tab 缩进</td></tr> <tr><td><code>\b</code></td> <td>空格</td></tr></tbody></table> <p>字符串长度：str.length</p> <p>字符串拼接：数值相加，字符相连。</p> <p>trim()：去除首尾的空格。</p></li> <li><p>Boolean</p> <p>默认值：false 。</p> <p>参与运算中，true 为 1，false 为 2。</p></li> <li><p>Undefined</p> <p>默认值：undefined 。</p></li> <li><p>Null</p> <p>默认值：null 。</p></li></ul></details> <p>(2) 复杂数据类型</p> <p>对象（object）</p></li> <li><p>数据类型的转换</p> <ul><li><p>转换为字符串：toString()、String()、+（隐式转换）。</p></li> <li><p>转换为数字型：</p> <p>parseInt(string) 转为整数；parseFloat(string) 转为浮点数；Number(string) 强转为数值；隐式转换。</p></li> <li><p>转换为布尔型：Boolean()：</p> <p>代表空、否定的值(0、NaN、null、undefined)会被转换为 false，其他全转换为 true 。</p></li></ul></li></ol> <h3 id="_3-运算符"><a href="#_3-运算符" class="header-anchor">#</a> (3) 运算符</h3> <ol><li><p>算数运算符（+、-、*、/）</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> a<span class="token operator">++</span> <span class="token operator">+</span> <span class="token operator">++</span>a <span class="token comment">//10 + 12</span>
<span class="token comment">//  b=12</span>
</code></pre></div></li> <li><p>比较运算符（注：我们不能拿浮点数相比较，不然会出错）</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">==</span>  <span class="token comment">//判等号（可转型，此时有隐式转换）</span>
<span class="token operator">===</span>  <span class="token comment">//全等 （数据类型和值都相同）</span>
</code></pre></div></li> <li><p>逻辑运算符</p> <p>短路运算：左边可以确定结果，就不在往后执行，逻辑中断。</p> <ul><li><p>逻辑与短路运算(&amp;&amp;)：<u>如果第一个值为真，返回表达式 2；如果第一个值为假，返回表达式 1</u></p> <p>代表''、空、否定的值(0、NaN、null、undefined)为 false。</p></li> <li><p>逻辑或短路运算(||)：<u>如果第一个值为真，返回表达式 1；如果第一个值为假，返回表达式 2</u></p></li></ul></li> <li><p>运算符的优先级</p> <table><thead><tr><th>优先级</th> <th>运算符</th> <th>顺序</th></tr></thead> <tbody><tr><td>1</td> <td>小括号</td> <td>()</td></tr> <tr><td>2</td> <td>一元运算符</td> <td>++ -- !</td></tr> <tr><td>3</td> <td>算术运算符</td> <td>* / % + -</td></tr> <tr><td>4</td> <td>关系运算符</td> <td>&gt; &gt;= &lt; &lt;=</td></tr> <tr><td>5</td> <td>相等运算符</td> <td>== != === !==</td></tr> <tr><td>6</td> <td>逻辑运算符</td> <td>&amp;&amp; ||</td></tr> <tr><td>7</td> <td>赋值运算符</td> <td>=</td></tr> <tr><td>8</td> <td>逗号运算符</td> <td>,</td></tr></tbody></table></li></ol> <h3 id="_4-函数"><a href="#_4-函数" class="header-anchor">#</a> (4) 函数</h3> <ol><li><p>使用</p> <p>声明函数：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 声名函数</span>
<span class="token keyword">function</span> func <span class="token punctuation">{</span>
 <span class="token comment">// 函数体</span>
<span class="token punctuation">}</span>
<span class="token comment">// 函数表达式（匿名函数）</span>
<span class="token keyword">var</span> <span class="token function-variable function">func</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token comment">// 函数体</span>
<span class="token punctuation">}</span>
</code></pre></div><p>调用函数：函数名()</p></li> <li><p>传参与返回值</p> <p>(1) 数组作为实参传给形参。</p> <p>(2) 传参数量不同的影响。</p> <ul><li><p>实参个数 = 形参个数：正常。</p></li> <li><p>实参个数 &gt; 形参个数：实参的前几个赋值给形参。</p></li> <li><p>实参个数 &lt; 形参个数：后面的形参为 undefined 正常。</p></li></ul> <p>(3) <strong>不确定传参个数时使用 arguments（伪数组）</strong>：自动接受未知个数的参数；每个函数都内置了此对象。（没有 pop()、push()方法）</p> <p>(4) return [] 可返回数组</p> <p>(5) return 返回最后一个数（如果没有 return 返回 undefined）。</p></li> <li><p>作用域</p> <p>分为全局作用域、局部作用域（函数作用域）</p> <p>注：在函数内部没有声明的变量也是全局变量。</p> <ul><li><p>全局变量：浏览器关闭才销毁；</p></li> <li><p>局部变量：程序执行完了就销毁。</p></li></ul> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <ul><li><p>js 现阶段没有块级作用域，es6 新增的有。</p></li> <li><p>函数可再套函数。作用域链：就近原则。</p></li></ul></div></li></ol> <h3 id="_5-自定义对象"><a href="#_5-自定义对象" class="header-anchor">#</a> (5) 自定义对象</h3> <ol><li><p>利用字面量</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">uname</span><span class="token operator">:</span> <span class="token string">'lihua'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">sayHai</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>用 new Object</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
obj<span class="token punctuation">.</span>uname <span class="token operator">=</span> <span class="token string">'lihua'</span>
obj<span class="token punctuation">.</span><span class="token function-variable function">sayHai</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div></li> <li><p>用构造函数(首字母大写)</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Student</span><span class="token punctuation">(</span><span class="token parameter">uname<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> uname
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">sing</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>调用</p> <p>调用一下就创建了一个对象（对象的实例化）。 var cyw=new Student('杨洋',19); 对象是具体的事物。 new 构造函数在内存中创建一个空对象；this 指向这个新对象。</p> <ul><li><p>获取属性个数：Object.keys(obj).length</p></li> <li><p>调用：对象名.属性名、对象名['属性名']。</p></li> <li><p>遍历对象：</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 方法一</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 方法二</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">of</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="_6-内置对象"><a href="#_6-内置对象" class="header-anchor">#</a> (6) 内置对象</h3> <ol><li><p>Math</p> <p>不是构造函数</p> <div class="language-js extra-class"><pre class="language-js"><code>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">//无法转换为数字型的为NaN;没有数字为-infinity;存在隐式转换</span>
Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	<span class="token comment">//取绝对值</span>
Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	<span class="token comment">//向下取整</span>
Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	<span class="token comment">//向上取整</span>
Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	<span class="token comment">//四舍五入（.5往大了取）</span>
Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	<span class="token comment">//随机数：返回[0,1)之间的小数</span>
Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>max<span class="token operator">-</span>min＋<span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>＋min  <span class="token comment">//返回[min,max]之间的随机整数</span>
</code></pre></div></li> <li><p>Date</p> <p>是构造函数</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2022</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span> <span class="token comment">//2022.9.18</span>
<span class="token keyword">var</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">'2022-9-18 8:8:8'</span><span class="token punctuation">)</span>
</code></pre></div><p>dObj 的方法</p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>getFullYear()</td> <td>获取年</td></tr> <tr><td>getMonth()</td> <td>获取月（0-11）</td></tr> <tr><td>getDate()</td> <td>获取日期</td></tr> <tr><td>getDay()</td> <td>获取星期几（0-6）</td></tr> <tr><td>getHours()</td> <td>获取小时</td></tr> <tr><td>getMinutes()</td> <td>获取分钟</td></tr> <tr><td>getSeconds()</td> <td>获取秒钟</td></tr></tbody></table> <p>获取总毫秒数（时间戳，从 1970.1.1 开始）：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> date<span class="token operator">=</span>＋<span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//H5新增的</span>
</code></pre></div></li> <li><p>数组</p> <p>数组的创建：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 利用数组字面量创建</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>
<span class="token comment">// 利用new创建</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">//2表示为数组长度，默认为空</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">//为[2,3]数组</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>注：<u>数组元素之间逗号隔开；数组里可以为任意类型。</u></p> <p>名词：<strong>索引</strong>、<strong>访问</strong>、<strong>遍历</strong>。</p> <p>新增数组长度：修改 length 长度；修改索引号，进行追加。</p> <p>注：<em>数组元素没有被赋值的为 undefined；不能直接给数组名赋值，不然里面的数组元素会没</em>。</p></div> <p>(1) 数组长度：<code>arr.length</code></p> <p>(2) 检测是否为数组：</p> <ul><li><p>检测对象 <strong>instanceof</strong> Array</p></li> <li><p>Array.isArray(检测对象) //H5 新增，es9 以上才有</p></li></ul> <p>(3) 添加删除数组元素：</p> <ul><li><p>push() 在数组末尾增加<strong>一个或多个</strong>元素，<strong>返回数组长度</strong>。</p></li> <li><p>unshift() 在数组开头增加<strong>一个或多个</strong>元素，<strong>返回数组长度</strong>。</p></li> <li><p>pop() 删除数组最后<strong>一个</strong>元素，<strong>返回删除元素的值</strong>。</p></li> <li><p>shift() 删除数组开头<strong>一个</strong>元素，<strong>返回删除元素的值</strong>。</p></li></ul> <p>(4) 翻转数组：arr.reverse()</p> <p>(5) 数组排序：arr.sort() // 是按字典序排序</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// return a.localeCompare(b.locale)  // 按字典序对汉字和英文排序，localeCompare的第二个参数为参照那个国家/地区的字符标表(如中国：'zh-CN')</span>
  <span class="token comment">// return a - b  // 数值升序</span>
  <span class="token comment">// return b - a  // 数值降序</span>
  <span class="token keyword">return</span> a<span class="token punctuation">.</span>index <span class="token operator">-</span> b<span class="token punctuation">.</span>index <span class="token comment">// 结构体排序</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>(6) 数组索引：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'pink'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">,</span> <span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">]</span>
<span class="token comment">// 返回第一个的索引号；如果找不到为-1（从前面查找）</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'red'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'yellow'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//-1</span>
<span class="token comment">// lastinindexOf从后面查找</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">'red'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//3</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">'yellow'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//-1</span>
</code></pre></div><p>(7) 数组转字符串：toString()、join()</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">,</span> <span class="token number">322</span><span class="token punctuation">]</span>
<span class="token comment">// toString之间以逗号分隔</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// join 默认以逗号分隔，还可以更改分隔符</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>(8) 其他：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">,</span> <span class="token number">322</span><span class="token punctuation">]</span>
<span class="token keyword">var</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">131</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">]</span>
<span class="token keyword">var</span> arr3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10086</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">]</span>
<span class="token comment">// concat() 连接多个数组</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>arr3<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// slice(before,end) 返回截取数组[before,end)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>
<span class="token comment">// splice(before,删除个数) 返回要删除的数组,影响原数组</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>
<span class="token comment">// splice(before, 0, 要插入的字符串) 可实现插入</span>
</code></pre></div><p>(9) 高级方法</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 1. 数组的every方法</span>
<span class="token comment">// 判断数组中的每一项state是否都为true</span>
<span class="token keyword">const</span> res <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>state<span class="token punctuation">)</span>

<span class="token comment">// 2. 数组的filter方法</span>
<span class="token comment">// 获取state为true的所有项</span>
<span class="token keyword">const</span> newArr <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>state<span class="token punctuation">)</span>

<span class="token comment">// 3. 数组的reduce方法</span>
<span class="token comment">// reduce((累加结果, 当前循环项) =&gt; {}, 初始值)</span>
<span class="token comment">// 求总价格：所有项的价格*数量的和</span>
<span class="token keyword">const</span> res <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">sum<span class="token punctuation">,</span> item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>sum <span class="token operator">+=</span> item<span class="token punctuation">.</span>price <span class="token operator">*</span> item<span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>字符串</p> <p><u>基本包装类型</u>：js 把简单数据类型包装为复杂数据类型</p> <p>执行过程：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//1.生成临时变量，把简单类型包装为复杂数据类型</span>
<span class="token keyword">var</span> temp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">string</span><span class="token punctuation">(</span><span class="token string">'andy'</span><span class="token punctuation">)</span>
<span class="token comment">//2.赋值给我们声明的字符变量</span>
str <span class="token operator">=</span> temp
<span class="token comment">//3.销毁临时变量</span>
temp <span class="token operator">=</span> <span class="token keyword">null</span>
</code></pre></div><p>不可变：值不变，地址变了，故不要大量赋值、拼接。</p> <p>(1) 返回字符位置：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>str<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'要查找的字符'</span><span class="token punctuation">,</span> <span class="token function">起始位置</span><span class="token punctuation">(</span>默认为<span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>(2) 根据位置返回字符：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'dfege'</span>
<span class="token comment">// 根据位置返回字符</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">//H5新增的</span>
<span class="token comment">// 根据位置返回字符的ASCII值</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>(3) 替换字符（或字符串）：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'dseegewgwr'</span>
<span class="token comment">// 不改变数组</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token string">'efw'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// 只能替换第一个，且不改变数组</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'e'</span><span class="token punctuation">,</span> <span class="token string">'o'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>
<span class="token comment">// 替换所有的</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'e'</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'e'</span><span class="token punctuation">,</span> <span class="token string">'o'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>
</code></pre></div><p>(4) 字符串转数组：split('分隔符')</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'red,green,pink,,blue'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>(5) 转大小写</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'dsdsGGSJdsHxz'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 转为大写</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 转为小写</span>
</code></pre></div><p>(6) 其他</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> str1 <span class="token operator">=</span> <span class="token string">'dsdsdsd'</span>
<span class="token keyword">var</span> str2 <span class="token operator">=</span> <span class="token string">'fdfddfd'</span>
<span class="token keyword">var</span> str3 <span class="token operator">=</span> <span class="token string">'fdfdfvca'</span>
<span class="token comment">// concat() 连接多个字符串</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">concat</span><span class="token punctuation">(</span>str1<span class="token punctuation">,</span> str2<span class="token punctuation">,</span> str3<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// substr(start, length) 截取字符串[start,start+length)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str1<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// slice(start, end) 返回截取截取字符串[start,end)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str1<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// substring(start, end) 返回截取截取字符串[start,end)，不接受负值</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str1<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div></li></ol> <h3 id="_7-存储"><a href="#_7-存储" class="header-anchor">#</a> (7) 存储</h3> <p>复杂数据类型（引用类型）：在存储时变量中存储的仅仅是地址（引用）；由 new 创建出来的都是。</p> <ul><li><p>栈（操作系统）：由操作系统自动分配释放存放函数的参数值、局部变量的值等，其操作方式类似于数据结构中的栈；<u>存放值</u>。(<strong>简单数据类型存放到栈里面</strong>)</p></li> <li><p>堆（操作系统）：存储复杂类型对，一般由程序员分配释放，若程序员不释放，由垃圾回收机制回收；<u>存放址，然后转向堆里的数据</u>。(<strong>复杂数据类型存放到堆里面</strong>)</p></li></ul> <h2 id="四、画布"><a href="#四、画布" class="header-anchor">#</a> 四、画布</h2> <p><a href="https://www.runoob.com/tags/ref-canvas.html" target="_blank" rel="noopener noreferrer">菜鸟教程<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_1-fillstyle"><a href="#_1-fillstyle" class="header-anchor">#</a> 1. fillStyle</h3> <details class="custom-block details"><summary>代码演示</summary> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>img
 <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;lamp&quot;</span>
 style<span class="token operator">=</span><span class="token string">&quot;display: none&quot;</span>
 src<span class="token operator">=</span><span class="token string">&quot;./images/img_lamp.jpg&quot;</span>
 alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>canvas <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;mycanvas1&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;300&quot;</span> height<span class="token operator">=</span><span class="token string">&quot;200&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>canvas <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;mycanvas2&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;300&quot;</span> height<span class="token operator">=</span><span class="token string">&quot;200&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>canvas <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;mycanvas3&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;300&quot;</span> height<span class="token operator">=</span><span class="token string">&quot;200&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>button onclick<span class="token operator">=</span><span class="token string">&quot;draw('repeat')&quot;</span><span class="token operator">&gt;</span>重复<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>button onclick<span class="token operator">=</span><span class="token string">&quot;draw('repeat-x')&quot;</span><span class="token operator">&gt;</span>重复x<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>button onclick<span class="token operator">=</span><span class="token string">&quot;draw('repeat-y')&quot;</span><span class="token operator">&gt;</span>重复y<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>button onclick<span class="token operator">=</span><span class="token string">&quot;draw('no-repeat')&quot;</span><span class="token operator">&gt;</span>不重复<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>canvas <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;mycanvas4&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;300&quot;</span> height<span class="token operator">=</span><span class="token string">&quot;200&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token comment">// 1. 填充矩形</span>
<span class="token keyword">let</span> c1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.mycanvas1'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> ctx1 <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
ctx1<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'#FF0000'</span>
ctx1<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span>

<span class="token comment">// 2. 渐变</span>
<span class="token comment">// 2.1 渐变方向</span>
<span class="token keyword">let</span> c2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.mycanvas2'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> ctx2 <span class="token operator">=</span> c2<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
<span class="token comment">// 创建线性渐变对象createLinearGradient(x0, y0, x1, y1)</span>
<span class="token comment">// var my_gradient = ctx2.createLinearGradient(0, 0, 0, 100)</span>
<span class="token comment">// var my_gradient = ctx2.createLinearGradient(0, 0, 200, 0)</span>
<span class="token comment">// var my_gradient = ctx2.createLinearGradient(0, 0, 200, 100)</span>
<span class="token comment">// 创建放射状/圆形渐变createRadialGradient(x0, y0, r0, x1, y1, r1)</span>
<span class="token comment">// r0为开始圆的半径，r1为结束圆的半径</span>
<span class="token keyword">var</span> my_gradient <span class="token operator">=</span> ctx2<span class="token punctuation">.</span><span class="token function">createRadialGradient</span><span class="token punctuation">(</span><span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
<span class="token comment">// 2.2 渐变颜色（0-1之间）</span>
my_gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'#2ecc71'</span><span class="token punctuation">)</span>
my_gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token string">'#1abc9c'</span><span class="token punctuation">)</span>
my_gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'#3498db'</span><span class="token punctuation">)</span>
ctx2<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> my_gradient
ctx2<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token comment">// setTimeout(() =&gt; {</span>
<span class="token comment">// // 清除画布</span>
<span class="token comment">//   ctx2.clearRect(0, 0, c2.width, c2.height)</span>
<span class="token comment">// }, 2000)</span>

<span class="token comment">// 3.图像来填充绘图</span>
<span class="token keyword">let</span> <span class="token function-variable function">draw</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">direction</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   <span class="token keyword">let</span> c3 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.mycanvas3'</span><span class="token punctuation">)</span>
   <span class="token keyword">var</span> ctx3 <span class="token operator">=</span> c3<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
   <span class="token comment">// 清空指定区域</span>
   ctx3<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> c3<span class="token punctuation">.</span>width<span class="token punctuation">,</span> c3<span class="token punctuation">.</span>height<span class="token punctuation">)</span>
   <span class="token keyword">var</span> img <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.lamp'</span><span class="token punctuation">)</span>
   <span class="token comment">// 在指定的方向上重复指定的元素(规定要使用的模式的图片、画布或视频元素, 重复方式)</span>
   <span class="token keyword">var</span> pat <span class="token operator">=</span> ctx3<span class="token punctuation">.</span><span class="token function">createPattern</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> direction<span class="token punctuation">)</span>
   <span class="token comment">// rect(x, y, width, height)</span>
   ctx3<span class="token punctuation">.</span><span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">160</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">)</span>
   ctx3<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> pat
   ctx3<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// draw('repeat')</span>

<span class="token comment">// 4.判断某点是否在路径中</span>
<span class="token keyword">let</span> c4 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.mycanvas4'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> ctx4 <span class="token operator">=</span> c4<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
ctx4<span class="token punctuation">.</span><span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>ctx4<span class="token punctuation">.</span><span class="token function">isPointInPath</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">)</span> ctx4<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div></details> <h3 id="_2-strokestyle"><a href="#_2-strokestyle" class="header-anchor">#</a> 2. strokeStyle</h3> <details class="custom-block details"><summary>代码演示</summary> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>canvas <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;mycanvas1&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;300&quot;</span> height<span class="token operator">=</span><span class="token string">&quot;200&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>canvas <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;mycanvas2&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;300&quot;</span> height<span class="token operator">=</span><span class="token string">&quot;200&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>canvas <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;mycanvas3&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;300&quot;</span> height<span class="token operator">=</span><span class="token string">&quot;200&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token comment">// 1. 绘制一个矩形(红色的笔触颜色)</span>
  <span class="token keyword">let</span> c1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.mycanvas1'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> ctx1 <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
  ctx1<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'#ff6b81'</span>
  ctx1<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">5</span>
  ctx1<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span>

  <span class="token comment">// 2. 绘制一个矩形(渐变笔触)</span>
  <span class="token keyword">let</span> c2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.mycanvas2'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> ctx2 <span class="token operator">=</span> c2<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> gradient <span class="token operator">=</span> ctx2<span class="token punctuation">.</span><span class="token function">createLinearGradient</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
  gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token string">'0'</span><span class="token punctuation">,</span> <span class="token string">'#eccc68'</span><span class="token punctuation">)</span>
  gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token string">'0.5'</span><span class="token punctuation">,</span> <span class="token string">'#ff7f50'</span><span class="token punctuation">)</span>
  gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'#ff6b81'</span><span class="token punctuation">)</span>
  ctx2<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> gradient
  ctx2<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">5</span>
  ctx2<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span>

  <span class="token comment">// 3. 用一个渐变笔触来写文本 &quot;Big smile!&quot;</span>
  <span class="token keyword">let</span> c3 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.mycanvas3'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> ctx3 <span class="token operator">=</span> c3<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
  ctx3<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">'30px 华文琥珀'</span>
  <span class="token keyword">let</span> gradient2 <span class="token operator">=</span> ctx3<span class="token punctuation">.</span><span class="token function">createLinearGradient</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
  gradient2<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token string">'0'</span><span class="token punctuation">,</span> <span class="token string">'#7bed9f'</span><span class="token punctuation">)</span>
  gradient2<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token string">'0.5'</span><span class="token punctuation">,</span> <span class="token string">'#70a1ff'</span><span class="token punctuation">)</span>
  gradient2<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'#ff6b81'</span><span class="token punctuation">)</span>
  ctx3<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> gradient2
  ctx3<span class="token punctuation">.</span><span class="token function">strokeText</span><span class="token punctuation">(</span><span class="token string">'好好学习，天天向上'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div></details> <h3 id="_3-阴影"><a href="#_3-阴影" class="header-anchor">#</a> 3. 阴影</h3> <details class="custom-block details"><summary>代码演示</summary> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>canvas <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;mycanvas&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;300&quot;</span> height<span class="token operator">=</span><span class="token string">&quot;200&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token comment">// 黑色阴影的红色矩形</span>
  <span class="token keyword">let</span> c1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.mycanvas'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> ctx1 <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
  <span class="token comment">// 模糊级数是 20</span>
  ctx1<span class="token punctuation">.</span>shadowBlur <span class="token operator">=</span> <span class="token number">20</span>
  ctx1<span class="token punctuation">.</span>shadowColor <span class="token operator">=</span> <span class="token string">'black'</span>
  <span class="token comment">// 带有向右偏移 20 像素的阴影</span>
  ctx1<span class="token punctuation">.</span>shadowOffsetX <span class="token operator">=</span> <span class="token number">20</span>
  <span class="token comment">// 向下偏移 20 像素的阴影</span>
  ctx1<span class="token punctuation">.</span>shadowOffsetY <span class="token operator">=</span> <span class="token number">20</span>
  ctx1<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'red'</span>
  ctx1<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div></details> <h3 id="_4-线条样式"><a href="#_4-线条样式" class="header-anchor">#</a> 4. 线条样式</h3> <details class="custom-block details"><summary>代码演示</summary> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>canvas <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;mycanvas&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;300&quot;</span> height<span class="token operator">=</span><span class="token string">&quot;200&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>canvas <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;mycanvas1&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;300&quot;</span> height<span class="token operator">=</span><span class="token string">&quot;200&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>canvas <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;mycanvas2&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;300&quot;</span> height<span class="token operator">=</span><span class="token string">&quot;200&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>canvas <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;mycanvas3&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;300&quot;</span> height<span class="token operator">=</span><span class="token string">&quot;200&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>canvas <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;mycanvas4&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;300&quot;</span> height<span class="token operator">=</span><span class="token string">&quot;200&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token comment">// 1. 实线与虚线</span>
  <span class="token comment">// 1.1</span>
  <span class="token keyword">var</span> c <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.mycanvas'</span><span class="token punctuation">)</span>
  <span class="token keyword">var</span> ctx <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// 1.2</span>
  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  ctx<span class="token punctuation">.</span><span class="token function">setLineDash</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">//设定实线与空白的大小</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// 1.3</span>
  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  ctx<span class="token punctuation">.</span><span class="token function">setLineDash</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">//设定实线与空白的大小</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token keyword">var</span> c1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.mycanvas1'</span><span class="token punctuation">)</span>
  <span class="token keyword">var</span> ctx1 <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
  <span class="token comment">// 起始一条路径，或重置当前路径</span>
  ctx1<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  ctx1<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">10</span>
  <span class="token comment">// 线条末端线帽的样式</span>
  ctx1<span class="token punctuation">.</span>lineCap <span class="token operator">=</span> <span class="token string">'round'</span>
  <span class="token comment">// 把路径移动到画布中的指定点，不创建线条</span>
  ctx1<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
  <span class="token comment">// 添加一个新点，然后创建从该点到画布中最后指定点的线条</span>
  ctx1<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
  ctx1<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  ctx1<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  ctx1<span class="token punctuation">.</span>lineCap <span class="token operator">=</span> <span class="token string">'butt'</span>
  ctx1<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span>
  ctx1<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span>
  ctx1<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  ctx1<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  ctx1<span class="token punctuation">.</span>lineCap <span class="token operator">=</span> <span class="token string">'square'</span>
  ctx1<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
  ctx1<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
  ctx1<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token keyword">let</span> c2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.mycanvas2'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> ctx2 <span class="token operator">=</span> c2<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
  ctx2<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  ctx2<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">10</span>
  <span class="token comment">// 设置或返回两条线相交时，所创建的拐角类型</span>
  <span class="token comment">// round 圆角；bevel 斜角；默认尖角</span>
  <span class="token comment">// ctx2.lineJoin = 'round'</span>
  ctx2<span class="token punctuation">.</span>lineJoin <span class="token operator">=</span> <span class="token string">'bevel'</span>
  ctx2<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
  ctx2<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span>
  ctx2<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
  ctx2<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token keyword">let</span> c3 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.mycanvas3'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> ctx3 <span class="token operator">=</span> c3<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
  ctx3<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  ctx3<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">20</span>
  <span class="token comment">// 设置或返回最大斜接长度</span>
  ctx3<span class="token punctuation">.</span>miterLimit <span class="token operator">=</span> <span class="token number">4</span>
  ctx3<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
  ctx3<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span>
  ctx3<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
  ctx3<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token keyword">let</span> c4 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.mycanvas4'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> ctx4 <span class="token operator">=</span> c4<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
  ctx4<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  ctx4<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">10</span>
  ctx4<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
  ctx4<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span>
  ctx4<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span>
  <span class="token comment">// 创建从当前点到开始点的路径</span>
  ctx4<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// ctx4.stroke()</span>
  ctx4<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'#3498db'</span>
  ctx4<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div></details> <h3 id="_5-画圆"><a href="#_5-画圆" class="header-anchor">#</a> 5. 画圆</h3> <details class="custom-block details"><summary>代码演示</summary> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>canvas <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;myc1&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;300&quot;</span> height<span class="token operator">=</span><span class="token string">&quot;200&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>canvas <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;myc2&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;300&quot;</span> height<span class="token operator">=</span><span class="token string">&quot;200&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token keyword">let</span> c1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.myc1'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> ctx1 <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
  <span class="token comment">// 起始一条路径，或重置当前路径。</span>
  ctx1<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  ctx1<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span>
  ctx1<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'#7bed9f'</span>
  <span class="token comment">// 填充当前绘图（路径）</span>
  ctx1<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token keyword">let</span> c2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.myc2'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> ctx2 <span class="token operator">=</span> c2<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
  ctx2<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  ctx2<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span>
  ctx2<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'#7bed9f'</span>
  <span class="token comment">// 绘制已定义的路径</span>
  ctx2<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div></details> <h3 id="_6-缩小放大、旋转"><a href="#_6-缩小放大、旋转" class="header-anchor">#</a> 6. 缩小放大、旋转</h3> <details class="custom-block details"><summary>代码演示</summary> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>canvas <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;myc1&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;300&quot;</span> height<span class="token operator">=</span><span class="token string">&quot;300&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>canvas <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;myc2&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;300&quot;</span> height<span class="token operator">=</span><span class="token string">&quot;300&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>canvas <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;myc3&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;300&quot;</span> height<span class="token operator">=</span><span class="token string">&quot;300&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>canvas <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;myc4&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;300&quot;</span> height<span class="token operator">=</span><span class="token string">&quot;300&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token keyword">let</span> c1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.myc1'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> ctx1 <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
  ctx1<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span>
  <span class="token comment">// 缩放当前绘图的宽度、高度</span>
  ctx1<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
  ctx1<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span>
  ctx1<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
  ctx1<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span>
  ctx1<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
  ctx1<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span>

  <span class="token keyword">let</span> c2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.myc2'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> ctx2 <span class="token operator">=</span> c2<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
  ctx2<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span>
  ctx2<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span>
  ctx2<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span>

  <span class="token keyword">let</span> c3 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.myc3'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> ctx3 <span class="token operator">=</span> c3<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
  ctx3<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">20</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">)</span>
  ctx3<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>

  <span class="token keyword">let</span> c4 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.myc4'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> ctx4 <span class="token operator">=</span> c4<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
  ctx4<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span>
  ctx4<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">1.5</span><span class="token punctuation">,</span> <span class="token number">1.5</span><span class="token punctuation">)</span>
  ctx4<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">5</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">)</span>
  ctx4<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span>
  ctx4<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">1.5</span><span class="token punctuation">,</span> <span class="token number">1.5</span><span class="token punctuation">)</span>
  ctx4<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">)</span>
  ctx4<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span>
  ctx4<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">1.5</span><span class="token punctuation">,</span> <span class="token number">1.5</span><span class="token punctuation">)</span>
  ctx4<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">15</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">)</span>
  ctx4<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div></details> <h3 id="_7-剪切"><a href="#_7-剪切" class="header-anchor">#</a> 7. 剪切</h3> <details class="custom-block details"><summary>代码演示</summary> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>剪切前：<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>canvas <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;myc1&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;300&quot;</span> height<span class="token operator">=</span><span class="token string">&quot;200&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>剪切后：<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>canvas <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;myc2&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;300&quot;</span> height<span class="token operator">=</span><span class="token string">&quot;200&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token keyword">let</span> c1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.myc1'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> ctx1 <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
  ctx1<span class="token punctuation">.</span><span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span>
  ctx1<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  ctx1<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'red'</span>
  ctx1<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>

  <span class="token keyword">let</span> c2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.myc2'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> ctx2 <span class="token operator">=</span> c2<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
  ctx2<span class="token punctuation">.</span><span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span>
  ctx2<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  ctx2<span class="token punctuation">.</span><span class="token function">clip</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  ctx2<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'red'</span>
  ctx2<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div></details> <h3 id="_8-文字"><a href="#_8-文字" class="header-anchor">#</a> 8. 文字</h3> <details class="custom-block details"><summary>代码演示</summary> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>canvas <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;myc1&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;300&quot;</span> height<span class="token operator">=</span><span class="token string">&quot;200&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>canvas <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;myc2&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;300&quot;</span> height<span class="token operator">=</span><span class="token string">&quot;200&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>canvas <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;myc3&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;300&quot;</span> height<span class="token operator">=</span><span class="token string">&quot;200&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>canvas <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;myc4&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;300&quot;</span> height<span class="token operator">=</span><span class="token string">&quot;200&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token comment">// 字体</span>
  <span class="token keyword">let</span> c1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.myc1'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> ctx1 <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
  ctx1<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">'30px 正楷'</span>
  ctx1<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">'我很好'</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span>
  ctx1<span class="token punctuation">.</span><span class="token function">strokeText</span><span class="token punctuation">(</span><span class="token string">'我很好'</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span>

  <span class="token comment">// 在画布上输出文本之前，检查字体的宽度</span>
  <span class="token keyword">let</span> c2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.myc2'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> ctx2 <span class="token operator">=</span> c2<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
  ctx2<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">'30px 正楷'</span>
  <span class="token keyword">let</span> text <span class="token operator">=</span> <span class="token string">'我很好'</span>
  ctx2<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">'宽为:'</span> <span class="token operator">+</span> ctx2<span class="token punctuation">.</span><span class="token function">measureText</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">.</span>width<span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span>
  ctx2<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span>

  <span class="token comment">// textAlign</span>
  <span class="token keyword">let</span> c3 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.myc3'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> ctx3 <span class="token operator">=</span> c3<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
  ctx3<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
  ctx3<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">180</span><span class="token punctuation">)</span>
  ctx3<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'red'</span>
  ctx3<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  ctx3<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">'15px Arial'</span>
  ctx3<span class="token punctuation">.</span>textAlign <span class="token operator">=</span> <span class="token string">'start'</span>
  ctx3<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">'textAlign=start'</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>
  ctx3<span class="token punctuation">.</span>textAlign <span class="token operator">=</span> <span class="token string">'end'</span>
  ctx3<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">'textAlign=end'</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
  ctx3<span class="token punctuation">.</span>textAlign <span class="token operator">=</span> <span class="token string">'left'</span>
  ctx3<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">'textAlign=left'</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">)</span>
  ctx3<span class="token punctuation">.</span>textAlign <span class="token operator">=</span> <span class="token string">'center'</span>
  ctx3<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">'textAlign=center'</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span>
  ctx3<span class="token punctuation">.</span>textAlign <span class="token operator">=</span> <span class="token string">'right'</span>
  ctx3<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">'textAlign=right'</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">)</span>

  <span class="token comment">// textBaseline</span>
  <span class="token keyword">let</span> c4 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.myc4'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> ctx4 <span class="token operator">=</span> c4<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
  ctx4<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
  ctx4<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
  ctx4<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'red'</span>
  ctx4<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  ctx4<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">'15px Arial'</span>
  ctx4<span class="token punctuation">.</span>textBaseline <span class="token operator">=</span> <span class="token string">'top'</span>
  ctx4<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">'top'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
  ctx4<span class="token punctuation">.</span>textBaseline <span class="token operator">=</span> <span class="token string">'bottom'</span>
  ctx4<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">'bottom'</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
  ctx4<span class="token punctuation">.</span>textBaseline <span class="token operator">=</span> <span class="token string">'middle'</span>
  ctx4<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">'middle'</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
  ctx4<span class="token punctuation">.</span>textBaseline <span class="token operator">=</span> <span class="token string">'alphabetic'</span>
  ctx4<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">'alphabetic'</span><span class="token punctuation">,</span> <span class="token number">130</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
  ctx4<span class="token punctuation">.</span>textBaseline <span class="token operator">=</span> <span class="token string">'hanging'</span>
  ctx4<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">'hanging'</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div></details> <h3 id="_9-图像绘制"><a href="#_9-图像绘制" class="header-anchor">#</a> 9. 图像绘制</h3> <details class="custom-block details"><summary>代码演示</summary> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;./images/img_lamp.jpg&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>canvas <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;myc1&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;300&quot;</span> height<span class="token operator">=</span><span class="token string">&quot;200&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token keyword">let</span> c1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.myc1'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> ctx1 <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> img <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'img'</span><span class="token punctuation">)</span>
  img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    ctx1<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// drawImage(img,sx,sy,swidth,sheight,x,y,width,height);</span>
  <span class="token comment">// img 要使用的图像、画布或视频</span>
  <span class="token comment">// sx、sy开始剪切坐标位置</span>
  <span class="token comment">// swidth、sheight剪切的宽高</span>
  <span class="token comment">// x、y放在画布的位置(必填，其他为可选)</span>
  <span class="token comment">// width、height使用头像的宽高</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div></details> <h3 id="_10-转换"><a href="#_10-转换" class="header-anchor">#</a> 10. 转换</h3> <details class="custom-block details"><summary>代码演示</summary> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>canvas <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;myc1&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;300&quot;</span> height<span class="token operator">=</span><span class="token string">&quot;200&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>canvas <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;myc2&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;300&quot;</span> height<span class="token operator">=</span><span class="token string">&quot;200&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>canvas <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;myc3&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;300&quot;</span> height<span class="token operator">=</span><span class="token string">&quot;200&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token comment">// 1.translate</span>
<span class="token keyword">let</span> c1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.myc1'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> ctx1 <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
ctx1<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'red'</span>
ctx1<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span>
<span class="token comment">// 画布位移到指定坐标</span>
ctx1<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span>
ctx1<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span>

<span class="token comment">// 2.transform(a,b,c,d,e,f)</span>
<span class="token comment">// a、d 水平、垂直缩放绘图</span>
<span class="token comment">// b、c 水平、垂直倾斜绘图</span>
<span class="token comment">// e、f 水平、垂直移动绘图</span>
<span class="token keyword">let</span> c2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.myc2'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> ctx2 <span class="token operator">=</span> c2<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
ctx2<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'yellow'</span>
ctx2<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span>
ctx2<span class="token punctuation">.</span><span class="token function">transform</span><span class="token punctuation">(</span><span class="token number">1.2</span><span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">1.2</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
ctx2<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'red'</span>
ctx2<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span>
ctx2<span class="token punctuation">.</span><span class="token function">transform</span><span class="token punctuation">(</span><span class="token number">1.2</span><span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">1.2</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
ctx2<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'green'</span>
ctx2<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span>

<span class="token comment">// 3.setTransform</span>
<span class="token comment">// 把当前的变换矩阵重置为单位矩阵，然后以相同的参数运行 transform()</span>
<span class="token keyword">let</span> c3 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.myc3'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> ctx3 <span class="token operator">=</span> c3<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
ctx3<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'yellow'</span>
ctx3<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span>
ctx3<span class="token punctuation">.</span><span class="token function">transform</span><span class="token punctuation">(</span><span class="token number">1.2</span><span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">1.2</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
ctx3<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'red'</span>
ctx3<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span>
ctx3<span class="token punctuation">.</span><span class="token function">setTransform</span><span class="token punctuation">(</span><span class="token number">1.2</span><span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">1.2</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
ctx3<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'green'</span>
ctx3<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div></details> <h3 id="_11-像素操作"><a href="#_11-像素操作" class="header-anchor">#</a> 11. 像素操作</h3> <details class="custom-block details"><summary>代码演示</summary> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>canvas <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;myc1&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;300&quot;</span> height<span class="token operator">=</span><span class="token string">&quot;200&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>canvas <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;myc2&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;300&quot;</span> height<span class="token operator">=</span><span class="token string">&quot;200&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>button onclick<span class="token operator">=</span><span class="token string">&quot;copy()&quot;</span><span class="token operator">&gt;</span>Copy<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token comment">// 1.createImageData</span>
<span class="token keyword">let</span> c1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.myc1'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> ctx1 <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> imgData <span class="token operator">=</span> ctx1<span class="token punctuation">.</span><span class="token function">createImageData</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> imgData<span class="token punctuation">.</span>data<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment">// R、G、B、A-alpha 通道</span>
   imgData<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">25</span>
   imgData<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">40</span>
   imgData<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">70</span>
   imgData<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">155</span>
<span class="token punctuation">}</span>
<span class="token comment">// putImageData(imgData,x,y,dirtyX,dirtyY,dirtyWidth,dirtyHeight) 把图像数据放回画布上</span>
<span class="token comment">// imgData 为图像数据，x、y为放在画布左上角的坐标（其他参数为可选）</span>
<span class="token comment">// dirtyX、dirtyY 水平、垂直值，在画布放置图像的位置</span>
<span class="token comment">// dirtyWidth、dirtyHeigh 绘制图像的宽高</span>
ctx1<span class="token punctuation">.</span><span class="token function">putImageData</span><span class="token punctuation">(</span>imgData<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>

<span class="token comment">// 2.createImageData</span>
<span class="token keyword">let</span> c2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.myc2'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> ctx2 <span class="token operator">=</span> c2<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
<span class="token comment">// let grad = ctx2.createLinearGradient(20, 20, 70, 70)</span>
<span class="token keyword">let</span> grad <span class="token operator">=</span> ctx2<span class="token punctuation">.</span><span class="token function">createRadialGradient</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span>
grad<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'#2ecc71'</span><span class="token punctuation">)</span>
grad<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token string">'#3498db'</span><span class="token punctuation">)</span>
grad<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'#9b59b6'</span><span class="token punctuation">)</span>
ctx2<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> grad
ctx2<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> <span class="token function-variable function">copy</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   <span class="token keyword">let</span> imgData2 <span class="token operator">=</span> ctx2<span class="token punctuation">.</span><span class="token function">getImageData</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">)</span>
   ctx2<span class="token punctuation">.</span><span class="token function">putImageData</span><span class="token punctuation">(</span>imgData2<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div></details> <h3 id="_12-合成"><a href="#_12-合成" class="header-anchor">#</a> 12. 合成</h3> <details class="custom-block details"><summary>代码演示</summary> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>canvas <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;myc1&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;300&quot;</span> height<span class="token operator">=</span><span class="token string">&quot;200&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>canvas <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;myc2&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;300&quot;</span> height<span class="token operator">=</span><span class="token string">&quot;200&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>select <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;mylist&quot;</span> onchange<span class="token operator">=</span><span class="token string">&quot;change()&quot;</span> size<span class="token operator">=</span><span class="token string">&quot;4&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>option selected<span class="token operator">&gt;</span>source<span class="token operator">-</span>over<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>option<span class="token operator">&gt;</span>source<span class="token operator">-</span>atop<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>option<span class="token operator">&gt;</span>source<span class="token operator">-</span><span class="token keyword">in</span><span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>option<span class="token operator">&gt;</span>source<span class="token operator">-</span>out<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>option<span class="token operator">&gt;</span>destination<span class="token operator">-</span>over<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>option<span class="token operator">&gt;</span>destination<span class="token operator">-</span>atop<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>option<span class="token operator">&gt;</span>destination<span class="token operator">-</span><span class="token keyword">in</span><span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>option<span class="token operator">&gt;</span>destination<span class="token operator">-</span>out<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>option<span class="token operator">&gt;</span>lighter<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>option<span class="token operator">&gt;</span>copy<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>option<span class="token operator">&gt;</span>xor<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token comment">// 1.globalAlpha 属性设置或返回绘图的当前透明值</span>
<span class="token keyword">let</span> c1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.myc1'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> ctx1 <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
ctx1<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'red'</span>
ctx1<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
ctx1<span class="token punctuation">.</span>globalAlpha <span class="token operator">=</span> <span class="token number">0.3</span>
ctx1<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'yellow'</span>
ctx1<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
ctx1<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'blue'</span>
ctx1<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
<span class="token comment">// globalCompositeOperation</span>
<span class="token keyword">let</span> list <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.mylist'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> c2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.myc2'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> ctx2 <span class="token operator">=</span> c2<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> <span class="token function-variable function">change</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   <span class="token keyword">let</span> type <span class="token operator">=</span> list<span class="token punctuation">.</span>options<span class="token punctuation">[</span>list<span class="token punctuation">.</span>selectedIndex<span class="token punctuation">]</span><span class="token punctuation">.</span>text
   ctx2<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> c2<span class="token punctuation">.</span>width<span class="token punctuation">,</span> c2<span class="token punctuation">.</span>height<span class="token punctuation">)</span>
   <span class="token comment">// 保存当前环境的状态</span>
   ctx2<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   ctx2<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'blue'</span>
   ctx2<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
   ctx2<span class="token punctuation">.</span>globalCompositeOperation <span class="token operator">=</span> type
   ctx2<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'red'</span>
   ctx2<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span>
   ctx2<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   <span class="token comment">// 返回之前保存过的路径状态和属性</span>
   ctx2<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">change</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div></details></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/blogs/frontend/moveweb.html" class="prev">
        移动 web
      </a></span> <span class="next"><a href="/blog/blogs/frontend/webapis.html">
        WebAPIs
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><div class="kanbanniang" data-v-5775ee02><div class="banniang-container" style="display:;" data-v-5775ee02><div class="messageBox" style="right:68px;bottom:190px;display:none;" data-v-5775ee02>
      欢迎来到 陈扬伟的博客
    </div> <div class="operation" style="right:90px;bottom:40px;display:;" data-v-5775ee02><i class="kbnfont kbn-ban-home ban-home" data-v-5775ee02></i> <i class="kbnfont kbn-ban-message message" data-v-5775ee02></i> <i class="kbnfont kbn-ban-close close" data-v-5775ee02></i> <a target="_blank" href="https://vuepress-theme-reco.recoluan.com/views/plugins/kanbanniang.html" data-v-5775ee02><i class="kbnfont kbn-ban-info info" data-v-5775ee02></i></a> <i class="kbnfont kbn-ban-theme skin" style="display:;" data-v-5775ee02></i></div> <canvas id="banniang" width="150" height="220" class="live2d" style="right:90px;bottom:-20px;opacity:0.9;" data-v-5775ee02></canvas></div> <div class="showBanNiang" style="display:none;" data-v-5775ee02>
    看板娘
  </div></div><div class="reco-bgm-panel" data-v-b1d3339e><audio id="bgm" src="http://music.163.com/song/media/outer/url?id=2049512697.mp3" data-v-b1d3339e></audio> <div class="reco-float-box" style="right:10px;bottom:275px;z-index:999999;display:none;" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><img src="http://p1.music.126.net/TmOHxaGnFNlwNX8aPz66oA==/109951168638913915.jpg" data-v-b1d3339e></div> <div class="reco-bgm-box" style="right:10px;bottom:275px;z-index:999999;" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><div class="reco-bgm-cover" style="background-image:url(http://p1.music.126.net/TmOHxaGnFNlwNX8aPz66oA==/109951168638913915.jpg);" data-v-b1d3339e><div class="mini-operation" style="display:none;" data-v-b1d3339e><i class="reco-bgm reco-bgm-pause" style="display:none;" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-play" style="display:none;" data-v-b1d3339e></i></div> <div class="falut-message" style="display:none;" data-v-b1d3339e>
          播放失败
        </div></div> <div class="reco-bgm-info" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><div class="info-box" data-v-b1d3339e><i class="reco-bgm reco-bgm-music music" data-v-b1d3339e></i>向云端</div> <div class="info-box" data-v-b1d3339e><i class="reco-bgm reco-bgm-artist" data-v-b1d3339e></i>小霞</div> <div class="reco-bgm-progress" data-v-b1d3339e><div class="progress-bar" data-v-b1d3339e><div class="bar" data-v-b1d3339e></div></div></div> <div class="reco-bgm-operation" data-v-b1d3339e><i class="reco-bgm reco-bgm-last last" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-pause pause" style="display:none;" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-play play" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-next next" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-volume1 volume" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-mute mute" style="display:none;" data-v-b1d3339e></i> <div class="volume-bar" data-v-b1d3339e><div class="bar" data-v-b1d3339e></div></div></div></div> <div class="reco-bgm-left-box" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><i class="reco-bgm reco-bgm-left" data-v-b1d3339e></i></div></div></div><div></div></div></div>
    <script src="/blog/assets/js/app.18c65dc5.js" defer></script><script src="/blog/assets/js/2.e098fada.js" defer></script><script src="/blog/assets/js/15.09128821.js" defer></script>
  </body>
</html>
