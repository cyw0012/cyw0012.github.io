(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{295:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"ajax"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ajax"}},[t._v("#")]),t._v(" Ajax")]),t._v(" "),a("h2",{attrs:{id:"一、服务器的基本概念与初始-ajax"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、服务器的基本概念与初始-ajax"}},[t._v("#")]),t._v(" 一、服务器的基本概念与初始 Ajax")]),t._v(" "),a("h3",{attrs:{id:"_1-概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-概念"}},[t._v("#")]),t._v(" (1) 概念")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("客户端与服务器：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("服务器：存放和对外提供资源的电脑。")])]),t._v(" "),a("li",[a("p",[t._v("客户端：获取和消费资源的电脑。")])])])]),t._v(" "),a("li",[a("p",[t._v("URL 地址（统一资源定位符）：")]),t._v(" "),a("p",[t._v("用于标识互联网上每个资源的唯一存放位置，浏览器只有通过 URL 地址，才能正确定位资源的存放位置，从而成功访问到对应的资源。")]),t._v(" "),a("p",[t._v("三大组成部分：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("客户端与服务器之间的"),a("strong",[t._v("通讯协议")])])]),t._v(" "),a("li",[a("p",[t._v("存放资源的"),a("strong",[t._v("服务器名称")])])]),t._v(" "),a("li",[a("p",[t._v("资源在服务器上"),a("strong",[t._v("具体的存放位置")])])])])]),t._v(" "),a("li",[a("p",[t._v("网页的打开过程：客户端与服务器之间的通信为："),a("strong",[t._v("请求——处理——响应")]),t._v("(网页的每个资源都是)")]),t._v(" "),a("ul",[a("li",[t._v("基于浏览器的开发者工具分析通信过程：")])]),t._v(" "),a("p",[t._v("打开 Chrome->打开网页->打开开发者工具->切换到 Network 面板->选中 Doc 页签->刷新查看通信")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("网页资源：文字内容、image 图片、Audio 音频、Video 视频、数据（灵魂）")])]),t._v(" "),a("li",[a("p",[t._v("请求数据需要用到 XMLHttpRequest 对象（简称 xhr），是浏览器提供的 js 成员。（let xhrObj=new XMLHttpRequest()）")])])])])]),t._v(" "),a("h3",{attrs:{id:"_2-初始-ajax"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-初始-ajax"}},[t._v("#")]),t._v(" (2) 初始 Ajax")]),t._v(" "),a("p",[t._v("了解 Ajax：在网页中利用 XMLHttpRequest 对象和服务器进行数据交互。")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("get 请求：用于获取服务器端资源")])]),t._v(" "),a("li",[a("p",[t._v("post 请求：用于向服务器提交数据")])])]),t._v(" "),a("ol",[a("li",[a("p",[t._v("$.get(url,[data],[callback])：获取数据")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 发起不带参数的get请求")]),t._v("\n$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://www.liulongbin.top:3006/api/getbooks'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//res为服务器返回的数据")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 发起带参数的get请求")]),t._v("\n$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://www.liulongbin.top:3006/api/getbooks'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("$.post(url,[data],[callback])：提交数据")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("bookname")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'皮卡丘'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("author")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'yyds'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("publisher")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'江西出版社'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("post")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://www.liulongbin.top:3006/api/addbook'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("$.ajax()：获取、提交数据")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ajax")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'POST'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//发起get或者post请求")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("url")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://www.liulongbin.top:3006/api/addbook'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("data")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("bookname")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'皮卡丘'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("author")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'yyds'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("publisher")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'江西出版社'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])]),t._v(" "),a("h3",{attrs:{id:"_3-接口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-接口"}},[t._v("#")]),t._v(" (3) 接口")]),t._v(" "),a("p",[t._v("使用 Ajax 请求数据时，被请求的 URL 地址，即为数据接口。（每个接口必须有请求方式）")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("接口测试工具（"),a("a",{attrs:{href:"https://apifox.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Apifox"),a("OutboundLink")],1),t._v("）")])]),t._v(" "),a("li",[a("p",[t._v("接口文档：接口的说明文档")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("接口名称")])]),t._v(" "),a("li",[a("p",[t._v("接口 URL")])]),t._v(" "),a("li",[a("p",[t._v("调用方式")])]),t._v(" "),a("li",[a("p",[t._v("参数格式")])]),t._v(" "),a("li",[a("p",[t._v("响应格式")])])]),t._v(" "),a("p",[t._v("在向服务器进行交互的时候，一定要详细对照文档说明。")])]),t._v(" "),a("li",[a("p",[t._v("免费接口")]),t._v(" "),a("blockquote",[a("p",[t._v("聊天机器人接口：")]),t._v(" "),a("p",[t._v("GET 请求、参数为 spoken、请求成功 message === 'success'")]),t._v(" "),a("p",[t._v("http://www.liulongbin.top:3006/api/robot")]),t._v(" "),a("p",[t._v("文字转语言接口：")]),t._v(" "),a("p",[t._v("GET 请求、参数为 text、请求成功 status === 200")]),t._v(" "),a("p",[t._v("http://www.liulongbin.top:3006/api/synthesize")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://free-api.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("接口大全"),a("OutboundLink")],1)])])])]),t._v(" "),a("h2",{attrs:{id:"二、form-表单与模板引擎"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、form-表单与模板引擎"}},[t._v("#")]),t._v(" 二、form 表单与模板引擎")]),t._v(" "),a("h3",{attrs:{id:"_1-form-表单的基本使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-form-表单的基本使用"}},[t._v("#")]),t._v(" (1) form 表单的基本使用")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("表单主要负责数据的采集功能")])]),t._v(" "),a("li",[a("p",[t._v("组成部分：表单标签、表单域、表单按钮")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("<form>")]),t._v("标签属性（规定把采集到的数据发送到服务器）")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("action：如果未指定，则提交到当前页面，否则提交到指定的 URL 地址。")])]),t._v(" "),a("li",[a("p",[t._v("target：规定在何处打开 URL")])]),t._v(" "),a("li",[a("p",[t._v("method：规定以何种方式提交数据，get 或 post。get 适合提交少量、简单的数据；post 适提交大量、复杂、或包含文件的上传（安全）。")])]),t._v(" "),a("li",[a("p",[t._v("enctype：规定在发送数据前如何对数据进行编码")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("值")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("application/x-www-form-urlencoded")]),t._v(" "),a("td",[t._v("在发送前编码所有字符（默认）")])]),t._v(" "),a("tr",[a("td",[t._v("multipart/form-data")]),t._v(" "),a("td",[t._v("不对字符编码。在使用包含文件上传控件的表单时，必须使用该值。")])]),t._v(" "),a("tr",[a("td",[t._v("text/plain")]),t._v(" "),a("td",[t._v("空格转换为”+”加号，但不对特殊字符编码。(很少用)")])])])]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("注：涉及文件上传必须让其为 multipart/form-data，否则为默认值即可。")])])])])]),t._v(" "),a("li",[a("p",[t._v("表单的同步提交：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("概念：通过点击 submit 按钮，触发表单提交操作，跳转到 action URL。")])]),t._v(" "),a("li",[a("p",[t._v("缺点：整个页面跳转到 action URL，用户体验差；页面之前的状态和数据会丢失。")])]),t._v(" "),a("li",[a("p",[t._v("解决：表单负责采集数据，Ajax 负责将数据提交到服务器。")])])])]),t._v(" "),a("li",[a("p",[t._v("通过 Ajax 提交表单数据")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("表单可以监听表单提交事件(submit)")])]),t._v(" "),a("li",[a("p",[t._v("快速获取表单数据："),a("strong",[t._v("每个元素一定要加 name 属性，且唯一")])])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("form action"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(" method"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"post"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"freely"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("br"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"age"')]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"20"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("br"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"city"')]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"beijing"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("br"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"job"')]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"fe"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("br"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"file"')]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"file"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("form"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1. serialize()")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("$")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'form'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("serialize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 调用结果：")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// name=freely&age=20&city=beijing&job=fe")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2. serializeArray()")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("$")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'form'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("serializeArray")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 调用结果：")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 得到数组对象")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('/*\n 0: {name: "name", value: "freely"}\n 1: {name: "age", value: "20"}\n 2: {name: "city", value: "beijing"}\n 3: {name: "job", value: "fe"}\n*/')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 两种方法文件选择元素都不会被序列化！")]),t._v("\n")])])])])]),t._v(" "),a("h3",{attrs:{id:"_2-art-template-模板引擎"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-art-template-模板引擎"}},[t._v("#")]),t._v(" (2) art-template 模板引擎")]),t._v(" "),a("p",[t._v("模板引擎( "),a("a",{attrs:{href:"http://aui.github.io/art-template/zh-cn/docs/installation.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("地址"),a("OutboundLink")],1),t._v(" )：可以指定的模板结构和数据，自动生成一个完整的 html 页面。")]),t._v(" "),a("p",[t._v("好处：减少字符串拼接；结构清晰；便于阅读与维护。")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("使用步骤：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("导入 art-template")])]),t._v(" "),a("li",[a("p",[t._v("定义数据(data)")])]),t._v(" "),a("li",[a("p",[t._v("定义模板")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("text/html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("起个id名"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}}),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("调用 template 函数（编译）")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" htmlStr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'模板id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("渲染 html 结构")])])])]),t._v(" "),a("li",[a("p",[t._v("语法：")]),t._v(" "),a("div",{staticClass:"language-md extra-class"},[a("pre",{pre:!0,attrs:{class:"language-md"}},[a("code",[a("span",{pre:!0,attrs:{class:"token list punctuation"}},[t._v("-")]),t._v(" 标准语法："),a("span",{pre:!0,attrs:{class:"token code-snippet code keyword"}},[t._v("`{{ }}`")]),t._v("在内部可进行变量输出，或循环数组\n\n"),a("span",{pre:!0,attrs:{class:"token list punctuation"}},[t._v("-")]),t._v(" 输出："),a("span",{pre:!0,attrs:{class:"token code-snippet code keyword"}},[t._v("`{{ }}`")]),t._v("内可进行变量、对象属性、运算结果输出\n\n"),a("span",{pre:!0,attrs:{class:"token list punctuation"}},[t._v("-")]),t._v(" 原文输出："),a("span",{pre:!0,attrs:{class:"token code-snippet code keyword"}},[t._v("`{{@ }}`")]),t._v(" 如果要输出的 value 值中有 html 标签结构，则需原文输出，才可正常渲染\n\n"),a("span",{pre:!0,attrs:{class:"token list punctuation"}},[t._v("-")]),t._v(" 条件输出："),a("span",{pre:!0,attrs:{class:"token code-snippet code keyword"}},[t._v("`{{if...}}...{{else if...}}...{{/if}}`")]),t._v("\n")])])]),a("ul",[a("li",[a("p",[t._v("循环输出：")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[t._v("{{each arr}} {{$index}} {{$value}} {{/each}}\n")])])])]),t._v(" "),a("li",[a("p",[t._v("过滤器：需要处理的值-》过滤器函数-》返回新值")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" filterName\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// | 管道符")]),t._v("\n")])])]),a("p",[t._v("定义一个格式化时间的过滤器：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("template"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("defaults"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("imports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("dateFormat")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" y "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" date"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getFullYear")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" m "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" date"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getMonth")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" d "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" date"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getDate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//过滤器最后一定要return一个值")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" y "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'-'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" m "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'-'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" d\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("使用：")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("注册时间： {{regTime | dateFormat}}"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])])])])]),t._v(" "),a("h3",{attrs:{id:"_3-模板引擎的实现原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-模板引擎的实现原理"}},[t._v("#")]),t._v(" (3) 模板引擎的实现原理")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("正则表达式匹配：exec()用于检索字符串中的正则表达式匹配")])]),t._v(" "),a("li",[a("p",[t._v("替换：replace")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cyw'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("age")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("36")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" str "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<div>我是{{name}}今年{{ age }}</div>'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" pattern "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("{{(\\s*([a-zA-Z]+)\\s*)}}")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//正则表达式")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" patternRes "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("patternRes "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pattern"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("exec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  str "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" str"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("patternRes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("patternRes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])]),t._v(" "),a("h2",{attrs:{id:"三、ajax-加强"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、ajax-加强"}},[t._v("#")]),t._v(" 三、Ajax 加强")]),t._v(" "),a("h3",{attrs:{id:"_1-xmlhttprequest-的基本使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-xmlhttprequest-的基本使用"}},[t._v("#")]),t._v(" (1) XMLHttpRequest 的基本使用")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("xhr 发起 get 请求")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1.创建XHR对象")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" xhr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("XMLHttpRequest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2.调用 open 函数")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 不带参")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// xhr.open("GET", "http://www.liulongbin.top:3006/api/getbooks")')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 带参")]),t._v("\nxhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("open")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'GET'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://www.liulongbin.top:3006/api/getbooks?id=1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3.调用 send 函数")]),t._v("\nxhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 4.监听 onreadystatechange 事件")]),t._v("\nxhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onreadystatechange")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("xhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("readyState "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" xhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("status "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//status与响应数据中的status不是同一个")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取服务器响应的数据")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("xhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("responseText"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("readyState 属性：表示当前 ajax 请求所处的状态")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("值")]),t._v(" "),a("th",[t._v("状态")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("0")]),t._v(" "),a("td",[t._v("UNSENT")]),t._v(" "),a("td",[t._v("XMLHttpRequest 对象已被创建，但尚未调用 open 方法。")])]),t._v(" "),a("tr",[a("td",[t._v("1")]),t._v(" "),a("td",[t._v("OPENED")]),t._v(" "),a("td",[t._v("open()方法已经被调用。")])]),t._v(" "),a("tr",[a("td",[t._v("2")]),t._v(" "),a("td",[t._v("HEADERS_RECEIVED")]),t._v(" "),a("td",[t._v("send()方法已经被调用，响应头也已经被接收。")])]),t._v(" "),a("tr",[a("td",[t._v("3")]),t._v(" "),a("td",[t._v("LOADING")]),t._v(" "),a("td",[t._v("数据接收中，此时 response 属性中已经包含部分数据。")])]),t._v(" "),a("tr",[a("td",[t._v("4")]),t._v(" "),a("td",[a("strong",[t._v("DONE")])]),t._v(" "),a("td",[t._v("Ajax 请求完成，这意味着数据传输已经彻底完成或失败。")])])])]),t._v(" "),a("p",[t._v("带参的 get 请求：本质是将参数以查询字符串的形式，追加到 URL 地址后。")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("不允许有中文，需要将中文字符进行编码（转义）；一个汉字编码成英文字符为三组%")]),t._v(" "),a("p",[t._v("编码：encodeURI(\"好好学习\")；解码：decodeURI('%E7%9A%AE%E5%8D%A1%E4%B8%98')")]),t._v(" "),a("p",[t._v("浏览器会自动对 URL 地址编码操作")])])]),t._v(" "),a("li",[a("p",[t._v("xhr 发起 post 请求")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1.创建XHR对象")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" xhr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("XMLHttpRequest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2.调用 open 函数")]),t._v("\nxhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("open")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'POST'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://www.liulongbin.top:3006/api/addbook'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3.设置 Content-Type 属性(固定写法)")]),t._v("\nxhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setRequestHeader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Content-Type'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'application/x-www-form-urlencoded'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 4.调用 send 函数")]),t._v("\nxhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bookname=皮卡丘&author=yyds&publisher=小陈出版社'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 5.监听 onreadystatechange 事件")]),t._v("\nxhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onreadystatechange")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("xhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("readyState "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" xhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("status "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//status与响应数据中的status不是同一个")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取服务器响应的数据")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("xhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("responseText"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])]),t._v(" "),a("h3",{attrs:{id:"_2-数据交换格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-数据交换格式"}},[t._v("#")]),t._v(" (2) 数据交换格式")]),t._v(" "),a("p",[t._v("服务端与客户端之间进行数据传输与交换的格式有 XML（用的少）、JSON...")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("XML(EXtensible Markup Language)：可扩展标记语言")]),t._v(" "),a("p",[t._v("HTML 网页内容的载体；XML 网页数据的载体")]),t._v(" "),a("p",[t._v("缺点：格式臃肿，体积大，传输效率低；js 解析 xml 麻烦")])]),t._v(" "),a("li",[a("p",[t._v("JSON(JavaScript Object Notation)：js 对象和数组的字符串表示法，本质是字符串")]),t._v(" "),a("p",[t._v("优点：轻量级的数据交换格式，更小、更轻、更易于解析。")]),t._v(" "),a("p",[t._v("JSON 的两种格式：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("对象结构："),a("code",[t._v("{key:value,...}")])]),t._v(" "),a("p",[t._v("key 为双引号包裹的字符串；value 为数字、字符串、数组、布尔值、对象、null。")])]),t._v(" "),a("li",[a("p",[t._v("数组结构："),a("code",[t._v("[value,...]")])]),t._v(" "),a("p",[t._v("value 为数字、字符串、数组、布尔值、对象、null。")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("注意事项：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("属性名、值必须被双引号包裹")])]),t._v(" "),a("li",[a("p",[t._v("不允许使用单引号表示字符串")])]),t._v(" "),a("li",[a("p",[t._v("最外层必须为对象或数组")])]),t._v(" "),a("li",[a("p",[t._v("不能用 undefined、函数作为 JSON 的值")])])]),t._v(" "),a("p",[t._v("JSON 的作用：计算机与网络直接存储和传输数据")]),t._v(" "),a("p",[t._v("JSON 的本质：用字符串表示 js 对象或数组")])])])]),t._v(" "),a("p",[a("strong",[t._v("JSON 和 JS 对象转换：")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("字符串转 JS 对象（反序列化）："),a("code",[t._v("JSON.parse(json)")])])]),t._v(" "),a("li",[a("p",[t._v("JS 对象转字符串（序列化）："),a("code",[t._v("JSON.stringify(obj)")])])])])])]),t._v(" "),a("h3",{attrs:{id:"_3-xmlhttprequest-level2-的新特性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-xmlhttprequest-level2-的新特性"}},[t._v("#")]),t._v(" (3) XMLHttpRequest Level2 的新特性")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("旧版 XMLHttpRequest 的缺点：")]),t._v(" "),a("p",[t._v("只支持文本数据的传输，无法读取、上传文件；没有进度信息。")])]),t._v(" "),a("li",[a("p",[t._v("XMLHttpRequest Level2 的新功能：")]),t._v(" "),a("p",[t._v("可设置 HTTP 请求时限；可以设置 FormData 对象管理表单数据；可以上传文件；可以获取进度信息。")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("HTTP 请求时限：")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[t._v("xhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timeout "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),t._v("\n\nxhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ontimeout "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token char"}},[t._v("'请求超时！'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("设置 FormData 对象管理表单数据：")])]),t._v(" "),a("li",[a("p",[t._v("上传文件：向 FormData 追加文件。")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("fd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("append")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'avatar'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" files"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("获取进度信息：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 监听文件上传进度")]),t._v("\nxhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("upload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onprogress")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lengthComputable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" progress "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ceil")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("loaded "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("total"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("progress"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 监听文件上传成功")]),t._v("\nxhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("upload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onload")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])])])]),t._v(" "),a("h3",{attrs:{id:"_4-axios"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-axios"}},[t._v("#")]),t._v(" (4) axios")]),t._v(" "),a("p",[t._v("专注于网络数据请求的库")]),t._v(" "),a("p",[t._v("相比于 xhr 对象，更简单易用；相比于 jQuery，更轻量化。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// axios返回的值给我们套了个壳，服务器返回的数据在data中，可使用解构赋值 {data: res}。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("axios")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("method")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'GET'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("url")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://www.liulongbin.top:3006/api/getbooks'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// URL查询参数，GET请求携带参数")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("params")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 请求体参数，POST请求携带参数")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("data")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("如果方法的返回值为 Promise 实例，则前面可以添加 await；await 只能用在被 async 修饰的方法中。")]),t._v(" "),a("p",[a("strong",[t._v("注意在请求时，可能要设置 Content-Type！！！")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在全局设置")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" request "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" axios"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("baseURL")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://127.0.0.1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("headers")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'Content-Type'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("' application/x-www-form-urlencoded'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 单独设置")]),t._v("\nrequest"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("post")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/api/reguser'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    username"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    password"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("headers")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'Content-Type'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'application/x-www-form-urlencoded'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h2",{attrs:{id:"四、跨域与-jsonp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、跨域与-jsonp"}},[t._v("#")]),t._v(" 四、跨域与 JSONP")]),t._v(" "),a("h3",{attrs:{id:"_1-同源策略与跨域"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-同源策略与跨域"}},[t._v("#")]),t._v(" (1) 同源策略与跨域")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("同源策略：两个页面的"),a("strong",[t._v("协议、域名、端口")]),t._v("相同，两个页面具有相同的源。")]),t._v(" "),a("p",[t._v("非同源的网站：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("无法读取非同源网页的 Cookie、LocalStorage、IndexedDB")])]),t._v(" "),a("li",[a("p",[t._v("无法接触非同源网页的 DOM")])]),t._v(" "),a("li",[a("p",[t._v("无法向非同源地址发送 Ajax 请求")])])])]),t._v(" "),a("li",[a("p",[t._v("跨域：与同源相反，出现的根本原因是浏览器的同源策略不允许非同源的 URL 数据交换。")]),t._v(" "),a("img",{attrs:{src:t.$withBase("/blog_img/ajax_01.png")}}),t._v(" "),a("p",[t._v("实现跨域请求：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("JSONP：临时解决方案，只支持 GET 请求")])]),t._v(" "),a("li",[a("p",[t._v("CORS：根本解决方案，W3C 标准，支持 GET 和 POST 请求，但不兼容某些低版本浏览器。")])])])])]),t._v(" "),a("h3",{attrs:{id:"_2-jsonp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-jsonp"}},[t._v("#")]),t._v(" (2) JSONP")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("实现原理：通过"),a("code",[t._v("<script>")]),t._v("标签的 src 属性，请求跨域的数据接口，并通过函数调用的形式，接收跨域接口响应回来的数据。")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.liulongbin.top:3006/api/jsonp?callback=success&name=ls&age=30"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}}),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("注意：JSON 与 Ajax 之间没有任何关系")])]),t._v(" "),a("li",[a("p",[t._v("jQuery 中的 Ajax 来实现 JSONP 是通过动态创建"),a("code",[t._v("<script>")]),t._v("标签，然后请求成功又移除。")])])]),t._v(" "),a("h3",{attrs:{id:"_3-防抖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-防抖"}},[t._v("#")]),t._v(" (3) 防抖")]),t._v(" "),a("p",[t._v("事件触发后，延迟 n 秒后再执行回调，如果 n 秒内事件又被触发则重新计时。")]),t._v(" "),a("p",[t._v("目的：通过防抖策略，只在输入完成后执行查询请求，减少请求次数，节约请求资源。")]),t._v(" "),a("p",[t._v("减少请求次数，同时还可以缓存搜索建议。")]),t._v(" "),a("h3",{attrs:{id:"_4-节流"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-节流"}},[t._v("#")]),t._v(" (4) 节流")]),t._v(" "),a("p",[t._v("减少一段时间内事件触发的频率。")]),t._v(" "),a("p",[t._v("应用场景：鼠标连续的触发某点击事件，只在单位时间内触发一次；懒加载时要计算滚动条的位置，但不必每次滑动都触发，可以降低计算频率，而不必浪费 CPU 资源。")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("防抖与节流的区别：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("防抖：只有最后一次触发生效，前面 N 多次触发被忽略。")])]),t._v(" "),a("li",[a("p",[t._v("节流：触发一次事件后立即执行，在一段时间内再触发事件不生效。")])])])]),t._v(" "),a("h2",{attrs:{id:"五、http-加强"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五、http-加强"}},[t._v("#")]),t._v(" 五、HTTP 加强")]),t._v(" "),a("p",[t._v("通信三要素：主体、内容、方式")]),t._v(" "),a("p",[t._v("通信协议：网页内容的传输协议又叫超文本传输协议（简称 HTTP 协议）。")]),t._v(" "),a("p",[t._v("HTTP 协议规定了客户端与服务端之间进行网页内容传输时，所必须遵守的传输协议。")]),t._v(" "),a("h3",{attrs:{id:"_1-http-请求与响应"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-http-请求与响应"}},[t._v("#")]),t._v(" (1) HTTP 请求与响应")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("HTTP 请求")]),t._v(" "),a("p",[t._v("客户端发送到服务端的消息为"),a("u",[t._v("HTTP 请求消息")]),t._v("，也叫请求报文。")]),t._v(" "),a("p",[t._v("HTTP 请求消息的组成部分：")]),t._v(" "),a("img",{attrs:{src:t.$withBase("/blog_img/ajax_02.png")}}),t._v(" "),a("ul",[a("li",[t._v("请求头部：键值对组成。描述客户端的基本信息，告知给服务器。")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("头部字段")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("Host")]),t._v(" "),a("td",[t._v("要请求的服务器域名")])]),t._v(" "),a("tr",[a("td",[t._v("Connection")]),t._v(" "),a("td",[t._v("客户端与服务器的连接方式(close 或 keepalive)")])]),t._v(" "),a("tr",[a("td",[t._v("Content-Length")]),t._v(" "),a("td",[t._v("用来描述请求体的大小")])]),t._v(" "),a("tr",[a("td",[t._v("Accept")]),t._v(" "),a("td",[t._v("客户端可识别的响应内容类型列表")])]),t._v(" "),a("tr",[a("td",[t._v("User-Agent")]),t._v(" "),a("td",[t._v("产生请求的浏览器类型")])]),t._v(" "),a("tr",[a("td",[t._v("Content-Type")]),t._v(" "),a("td",[t._v("客户端告诉服务器实际发送的数据类型")])]),t._v(" "),a("tr",[a("td",[t._v("Accept-Encoding")]),t._v(" "),a("td",[t._v("客户端可接收的内容压缩编码形式")])]),t._v(" "),a("tr",[a("td",[t._v("Accept-Language")]),t._v(" "),a("td",[t._v("用户期望获得的自然语言的优先顺序")])])])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("空行：用于分隔")])]),t._v(" "),a("li",[a("p",[t._v("请求体（"),a("strong",[t._v("只有 POST 请求才有")]),t._v("）：存放的是通过 POST 方式提交到服务器的数据。")])])])]),t._v(" "),a("li",[a("p",[t._v("HTTP 响应")]),t._v(" "),a("p",[t._v("服务端发送到客户端的消息为"),a("u",[t._v("HTTP 响应消息")]),t._v("，也叫响应报文。")]),t._v(" "),a("p",[t._v("HTTP 响应消息的组成部分：")]),t._v(" "),a("img",{attrs:{src:t.$withBase("/blog_img/ajax_03.png")}}),t._v(" "),a("ul",[a("li",[a("p",[t._v("响应头部：描述服务器的基本信息，告知给客户端。")])]),t._v(" "),a("li",[a("p",[t._v("响应体：存放的是服务器发送给客户端的消息。")])])])])]),t._v(" "),a("h3",{attrs:{id:"_3-http-请求方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-http-请求方法"}},[t._v("#")]),t._v(" (3) HTTP 请求方法")]),t._v(" "),a("p",[t._v("表面要对服务器上的资源执行的操作。")]),t._v(" "),a("p",[t._v("常见的请求方法：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("方法")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("strong",[t._v("GET")])]),t._v(" "),a("td",[t._v("(查询) 发送请求来获得服务器上的资源，请求体中不会包含请求数据，请求数据放在协议头中。")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("POST")])]),t._v(" "),a("td",[t._v("(新增) 向服务器提交资源（例如提交表单或上传文件）。数据被包含在请求体中提交给服务器。")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("PUT")])]),t._v(" "),a("td",[t._v("(修改) 向服务器提交资源，并使用提交的新资源，替换掉服务器对应的旧资源。")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("DELETE")])]),t._v(" "),a("td",[t._v("(删除) 请求服务器刷除指定的资源。")])]),t._v(" "),a("tr",[a("td",[t._v("HEAD")]),t._v(" "),a("td",[t._v("HEAD 方法清求一个与 GET 请求的响应相同的响应，但没有响应体。")])]),t._v(" "),a("tr",[a("td",[t._v("OPTIONS")]),t._v(" "),a("td",[t._v("获取 http 服务器支持的 http 请求方法，允许客户端查看服务器的性能，比如 ajax 跨域时的预检等。")])]),t._v(" "),a("tr",[a("td",[t._v("CONNECT")]),t._v(" "),a("td",[t._v("建立一个到由目标资源标识的服务器的隧道。")])]),t._v(" "),a("tr",[a("td",[t._v("TRACE")]),t._v(" "),a("td",[t._v("沿着到目标资源的路径执行一个消息环回测试，主要用于测试或诊断。")])]),t._v(" "),a("tr",[a("td",[t._v("PATCH")]),t._v(" "),a("td",[t._v("是对 PUT 方法的补充，用来对已知资源进行局部更新。")])])])]),t._v(" "),a("h3",{attrs:{id:"_4-http-响应状态码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-http-响应状态码"}},[t._v("#")]),t._v(" (4) HTTP 响应状态码")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.toolscat.com/wiki/http",target:"_blank",rel:"noopener noreferrer"}},[t._v("响应状态码查询"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("标识响应的状态，由三个十进制组成，第一个定义了状态码的类型，后面两个对状态码进行细分。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("分类")]),t._v(" "),a("th",[t._v("分类描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("1**")]),t._v(" "),a("td",[t._v("信息，服务器收到情求，需要请求者继续执行操作（实际开发中很少遇到 1**类型的状态码）")])]),t._v(" "),a("tr",[a("td",[t._v("2**")]),t._v(" "),a("td",[t._v("成功，操作被成功接收并处理")])]),t._v(" "),a("tr",[a("td",[t._v("3**")]),t._v(" "),a("td",[t._v("重定向，需要进步的操以完成请球")])]),t._v(" "),a("tr",[a("td",[t._v("4**")]),t._v(" "),a("td",[t._v("客户端错误，请求包含语法错误或无法完成请求")])]),t._v(" "),a("tr",[a("td",[t._v("5**")]),t._v(" "),a("td",[t._v("服务器错误，服务器在处理请求的过程中发生了错误")])])])]),t._v(" "),a("h2",{attrs:{id:"六、git"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#六、git"}},[t._v("#")]),t._v(" 六、Git")]),t._v(" "),a("p",[t._v("版本控制软件是一个用来记录文件变化，负责管理文件版本的软件。")]),t._v(" "),a("p",[t._v("使用版本控制软件的好处：操作简单（只需识记几组简单的终端命令）、易于对比、易于回溯、不易丢失、协作方便。")]),t._v(" "),a("p",[t._v("版本控制系统分类：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("本地版本控制系统")]),t._v(" "),a("p",[t._v("优点：使用软件记录文件的不同版本，提高了工作效率，降低了手动维护版本的出错率。")]),t._v(" "),a("p",[t._v("缺点：单机运行，不支持多人协作开发；版本数据库故障后，所有历史更新记录会丢失。")])]),t._v(" "),a("li",[a("p",[t._v("集中化的版本控制系统：基于服务器、客户端的运行模式。服务器保存文件的所有更新记录；客户端只保留最新的文件版本。")]),t._v(" "),a("p",[t._v("优点：联网运行，支持多人协作开发。")]),t._v(" "),a("p",[t._v("缺点：不支持离线提交版本更新；中心服务器崩溃，所有人无法正常工作；版本数据库故障后，所有历史更新记录会丢失。")])]),t._v(" "),a("li",[a("p",[t._v("分布式版本控制系统：基于服务器、客户端的运行模式。服务器保存文件的所有更新版本；"),a("u",[t._v("客户端是服务器的完整备份")]),t._v("，便不是只保留文件的最新版本。")]),t._v(" "),a("p",[t._v("优点：联网运行，支持多人协作开发；"),a("u",[t._v("客户端断网后支持离线本地提交版本更新")]),t._v("；服务器故障或损坏后，可使用任何一个客户端的备份进行恢复。")])])]),t._v(" "),a("h3",{attrs:{id:"_1-起步"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-起步"}},[t._v("#")]),t._v(" (1) 起步")]),t._v(" "),a("p",[t._v("Git 是一个开源的分布式版本控制系统，是目前最先进、最流行的版本控制系统，高性能，高可靠性。")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("两个特性：")]),t._v(" "),a("ul",[a("li",[t._v("直接记录快照，而非差异比较")])]),t._v(" "),a("p",[t._v("SVN 是基于差异的版本控制，节省磁盘空间；耗时、效率低；Git 快照类似于备份，占用磁盘空间大；版本切换时非常快。")]),t._v(" "),a("ul",[a("li",[t._v("近乎所有操作都是本地执行")])]),t._v(" "),a("p",[t._v("断网后可在本地对项目进行版本管理；联网后同步到云端服务器。")])]),t._v(" "),a("li",[a("p",[t._v("Git 的三个区域：工作区、暂存区、Git 仓库")])]),t._v(" "),a("li",[a("p",[t._v("Git 的三种状态：已修改(modified)、已暂存(staged)、已提交(committed)")])]),t._v(" "),a("li",[a("p",[t._v("Git 工作流程：")]),t._v(" "),a("img",{attrs:{src:t.$withBase("/blog_img/ajax_04.png")}})])]),t._v(" "),a("h3",{attrs:{id:"_2-git-基础"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-git-基础"}},[t._v("#")]),t._v(" (2) Git 基础")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("安装 Git："),a("a",{attrs:{href:"https://git-scm.com/downloads",target:"_blank",rel:"noopener noreferrer"}},[t._v("Git 官网"),a("OutboundLink")],1)])]),t._v(" "),a("li",[a("p",[t._v("配置用户基本信息")]),t._v(" "),a("p",[t._v("右键点击 Git Bash Here 进入操作面板，或者直接打开终端。")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('$ git config --global user.name "yyds"\n\n$ git config --global user.email "100861234@qq.com"\n')])])]),a("p",[t._v("使用了--global 选项，那么该命令只需要运行一次，即可永久生效。")])]),t._v(" "),a("li",[a("p",[t._v("全局配置文件：C:/Users/用户名文件夹/.gitconfig")])]),t._v(" "),a("li",[a("p",[t._v("检查配置信息：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# 查看所有的全局配置\ngit config --list --global\n\n# 查看指定的全局配置项\ngit config user.name\ngit config user.email\n")])])])]),t._v(" "),a("li",[a("p",[t._v("获取帮助信息：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git help config\n\ngit config -h 获取极简信息\n")])])])])]),t._v(" "),a("h3",{attrs:{id:"_3-git-基操"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-git-基操"}},[t._v("#")]),t._v(" (3) Git 基操")]),t._v(" "),a("img",{attrs:{src:t.$withBase("/blog_img/ajax_05.png")}}),t._v(" "),a("ol",[a("li",[a("p",[t._v("初始化：本地目录转为 Git 仓库")]),t._v(" "),a("p",[t._v("创建了 .git 隐藏目录")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git init\n")])])])]),t._v(" "),a("li",[a("p",[t._v("检查文件状态")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git status\n# 获取极简信息(git status --short)\ngit status -s\n")])])]),a("p",[t._v("??：处于未跟踪状态。")]),t._v(" "),a("p",[t._v("绿 A 标记：处于暂存状态。")]),t._v(" "),a("p",[t._v("红色 M 标记：处于已修改状态")])]),t._v(" "),a("li",[a("p",[t._v("跟踪新文件：未跟踪的文件->暂存区")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# 一次性添加一个文件\ngit add 文件名\n# 一次性添加多个文件\ngit add .\n")])])]),a("p",[a("strong",[t._v("注意：如果有子文件夹还是没有跟踪上，则有可能是该文件夹已经有 git 仓库了，需要把该文件夹目录下隐藏的.git 文件夹删除。")])])]),t._v(" "),a("li",[a("p",[t._v("提交更新至仓库")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('git commit -m "对提交内容的描述"\n')])])])]),t._v(" "),a("li",[a("p",[t._v("对已提交的文件进行修改")]),t._v(" "),a("p",[t._v('暂存修改：git add 文件名——>提交至仓库：git commit -m "XXX"')])]),t._v(" "),a("li",[a("p",[t._v("撤销对文件的修改："),a("u",[t._v("还原为 Git 仓库所保留的版本")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git checkout -- 文件名\n")])])])]),t._v(" "),a("li",[a("p",[t._v("取消暂存文件")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# 移除单个文件\ngit reset HEAD 要移除的文件名称\n\n# 移除多个文件\ngit reset HEAD .\n")])])])]),t._v(" "),a("li",[a("p",[t._v("跳过使用暂存区：工作区->Git 仓库")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('git commit -a -m "描述信息"\n')])])])]),t._v(" "),a("li",[a("p",[t._v("移除文件")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# 从Git仓库和工作区同时删除文件\ngit rm -f 文件名\n\n从Git仓库中移除，保留工作区文件\ngit rm --cached 文件名\n")])])])]),t._v(" "),a("li",[a("p",[t._v("忽略文件：创建一个名为.gitignore 的配置文件")]),t._v(" "),a("p",[t._v("格式规范：以 # 开头为注释；以 / 开头为目录；以 ! 开头为取反；glob 模式。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("符号")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("*")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("匹配零个或多个任意字符")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("[abc]")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("匹配任何在方括号中的字符")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("?")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("只匹配一个任意字符")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("-")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("匹配两个字符范围内的字符")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("**")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("匹配任意中间目录")])])])]),t._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[t._v("展开")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v(" # 忽略所有的 .a文件\n *.a\n\n # 但跟踪所有的 1ib.a ,即便你在前面忽略了 .a文件\n !lib.a\n\n # 只忽略当前目录下的 TODO 文件，而不忽略 subdir/TODO\n /TODO\n\n # 忽略任何目录下名为 build 的文件夹\n build/\n\n # 忽略 doc/notes.txt ，但不忽略 doc/server/arch.txt\n doc/*.txt\n\n # 忽略 doc/ 目录及其所有子目录下的 .pdf文件\n doc/**/*.pdf\n")])])])])]),t._v(" "),a("li",[a("p",[t._v("查看提交历史：(按 q 退出)")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('# 按时间先后顺序列出所有的提交历史，最近的提交排在上面\ngit log\n\n# 只展示最新的n条提交历史\ngit log -n\n\n# 在一行上展示最新的n条提交历史\ngit log -n --pretty=oneline\n\n# 自定义输出格式(提交的简写哈希值、作者名字、作者修订日期、说明)\ngit log -2 --pretty=format:"%h | %an | %ar | %s"\n')])])])]),t._v(" "),a("li",[a("p",[t._v("回退到指定的版本")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# 在一行上展示最新的n条提交历史\ngit log --pretty=oneline\n\n# 根据指定的提交ID回退到指定版本\ngit reset --hard <COmmitID>\n\n# 在旧版本中，查看全部命令操作的历史\ngit reflog --pretty=oneline\n\n# 再次根据最新的提交ID，跳转到最新版本\ngit reset --hard <CommitID>\n")])])])])]),t._v(" "),a("h3",{attrs:{id:"_4-github"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-github"}},[t._v("#")]),t._v(" (4) GitHub")]),t._v(" "),a("p",[t._v("引入：开源即提供程序和源代码；闭源即提供程序，不提供源代码。")]),t._v(" "),a("p",[t._v("五种开源协议：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("BSD (Berkeley Software Distribution)")])]),t._v(" "),a("li",[a("p",[t._v("Apache Licence 2.0")])]),t._v(" "),a("li",[a("p",[t._v("GPL (GNU General Public License)")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("具有传染性的一种开源协议，不允许修改后和衍生的代码做为闭源的商业软件发布和销售")])]),t._v(" "),a("li",[a("p",[t._v("使用 GPL 的最著名的软件项目是：Linux")])])])]),t._v(" "),a("li",[a("p",[t._v("LGPL (GNU Lesser General Public License)")])]),t._v(" "),a("li",[a("p",[t._v("MIT (Massachusetts Institute of Technology,MIT)")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("是目前限制最少的协议，唯一的条件：在修改后的代码或者发行包中，必须包含原作者的许可信息")])]),t._v(" "),a("li",[a("p",[t._v("使用 MIT 的软件项目有：jquery、Node,js")])])])])]),t._v(" "),a("p",[t._v("开源项目提供平台：GitHub、Gitlab、Gitee。（只能托管以 Git 管理的托管平台）")]),t._v(" "),a("p",[t._v("两种访问方式：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("HTTPS：零配置，每次访问仓库需输入账号密码")])]),t._v(" "),a("li",[a("p",[t._v("SSH：需额外配置，每次访问仓库无需重复输入账号密码")])])]),t._v(" "),a("ol",[a("li",[a("p",[t._v("基于 HTTPS 将本地仓库上传到 GitHub")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# 第一次\n# 本地仓库与远程仓库进行关联\ngit remote add origin https://github.com/yyds1234/module.git\n\n# 上传\ngit push -u origin main\n\n# 以后\ngit push\n")])])])]),t._v(" "),a("li",[a("p",[t._v("基于 SSH 将本地仓库上传到 GitHub")]),t._v(" "),a("p",[t._v("作用是本地仓库与 GitHub 之间免登录的加密传输；由两部分组成，id_rsa(私钥文件，存放到客户端)、id_rsa.pub(公钥文件，需配置到 GitHub)")]),t._v(" "),a("p",[t._v("(1) 生成：执行下面命令，再敲三次回车，到 C:\\Users\\用户名文件夹.ssh 中查看")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('ssh-keygen -t rsa -b 4096 -C "100861234@qq.com"\n')])])]),a("p",[t._v("(2) 配置：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("用记事本打开 id_rsa.pub 文件，复制内容")])]),t._v(" "),a("li",[a("p",[t._v("在浏览器中登录 Github,点击头像->Settings->SSH and GPG Keys->New SSH key")])]),t._v(" "),a("li",[a("p",[t._v("将 id rsa.pub 文件中的内容，粘贴到 Key 对应的文本框中")])]),t._v(" "),a("li",[a("p",[t._v("在 Title 文本框中任意填写一个名称，来标识这个 Key 从何而来")])])]),t._v(" "),a("p",[t._v("(3) 检测配置是否成功：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("ssh -T git@github.com\n# 然后输入 yes\n# 出现这个表示成功：Hi yyds1234! You've successfully authenticated，but GitHub does notprovide shell access.\n")])])]),a("p",[t._v("(4) 上传")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# 第一次\ngit remote add origin git@github.com:cyw0012/moudle2.git\n\ngit push -u origin main\n\n# 以后\ngit push -u origin main\n")])])]),a("p",[t._v("(5) 将远程仓库克隆到本地")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# -b master克隆指定分支、或者更改默认分支\ngit clone -b master git@github.com:cyw0012/moudle2.git\n")])])]),a("p",[t._v("(6) 切换仓库地址")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# 第一：查看远程库的信息\ngit remote -v\n\n# 第二: 删除现有的远程仓库\ngit remote rm origin\n\n# 第三: 建立新的远程仓库地址\ngit remote add origin + 远程仓库地址\n")])])])])]),t._v(" "),a("h3",{attrs:{id:"_5-git-分支"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-git-分支"}},[t._v("#")]),t._v(" (5) Git 分支")]),t._v(" "),a("img",{attrs:{src:t.$withBase("/blog_img/ajax_06.png")}}),t._v(" "),a("p",[t._v("main 主分支的作用：用来保存和记录整个项目已完成的功能代码。")]),t._v(" "),a("p",[t._v("功能分支：专门开发新功能的分支。")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("看分支列表：*表示当前分支")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git branch\n")])])])]),t._v(" "),a("li",[a("p",[t._v("创建分支：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git branch 分支名称\n")])])])]),t._v(" "),a("li",[a("p",[t._v("切换分支：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git checkout 分支名称\n")])])])]),t._v(" "),a("li",[a("p",[t._v("分支的快速创建和切换：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git checkout -b 分支名称\n")])])])]),t._v(" "),a("li",[a("p",[t._v("合并分支：首先要切换到主分支，然后执行以下命令")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git merge 分支名称\n")])])])]),t._v(" "),a("li",[a("p",[t._v("删除分支：注意此时不能在删除分支上(-D 强制删除)")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git branch -d 分支名称\n")])])])]),t._v(" "),a("li",[a("p",[t._v("遇到冲突时合并分支：在不同的两个分支中，对同一个文件进行了修改，需要手动解决冲突，然后通知 git")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('# 先手动解决冲突，在 VScode 中有提示\ngit add .\ngit commit -m "解决了分支合并问题"\n')])])])])]),t._v(" "),a("p",[t._v("远程分支操作：")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("将本地分支推送到远程仓库(如果远程仓库中有分支则不用加-u)：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git push -u 远程仓库名称(默认为origin) 本地分支名称[:远程分支名称]\n")])])])]),t._v(" "),a("li",[a("p",[t._v("查看远程仓库的所有分支：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git remote show origin\n")])])])]),t._v(" "),a("li",[a("p",[t._v("跟踪分支：远程分支下载到本地")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git checkout 远程分支名称（本地分支和远程分支名称相同）\n\ngit checkout -b 本地分支名称 origin/远程分支名称\n")])])])]),t._v(" "),a("li",[a("p",[t._v("拉取远程分支的最新代码")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git pull\n")])])])]),t._v(" "),a("li",[a("p",[t._v("将远程分支上的文件拉回来")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git pull origin main --allow-unrelated-histories\n")])])])]),t._v(" "),a("li",[a("p",[t._v("删除远程分支")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git push origin --delete 远程分支名称\n")])])])]),t._v(" "),a("li",[a("p",[t._v("删除远程分支的文件、文件夹")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("将远程分支拉取回来 -> 移除指定文件或文件夹 -> 再重新将本地分支推送到远程仓库（会替换掉远程分支的内容，从而达到删除效果）\n")])])])])])])}),[],!1,null,null,null);a.default=e.exports}}]);